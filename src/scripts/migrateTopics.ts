import { addDoc, collection, serverTimestamp } from 'firebase/firestore';
import { db } from '../lib/firebase';

const PRIMARY_SCHOOL_TOPICS = [
  '–•–æ—Ç–µ–ª–æ—Å—å –ª–∏ –≤–∞–º –ø–æ–π—Ç–∏ –≤ —à–∫–æ–ª—É? –ß—Ç–æ –ø—Ä–∏–≤–ª–µ–∫–∞–ª–æ/–Ω–µ –ø—Ä–∏–≤–ª–µ–∫–∞–ª–æ?',
  '–ö–∞–∫ –≤—ã –ø–æ–º–Ω–∏—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Å–µ–Ω—Ç—è–±—Ä—è –∏ –Ω–∞—á–∞–ª—å–Ω—É—é —à–∫–æ–ª—É?',
  '–ë—ã–ª –ª–∏ –≤ —à–∫–æ–ª–µ –Ω–∞–≤—ã–∫ –∏–ª–∏ –∑–Ω–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —É–¥–∏–≤–∏–ª–∏?',
  '–ö–∞–∫ –¥–∞–≤–∞–ª–∞—Å—å —É—á–µ–±–∞ (–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –ø—Ä–µ–¥–º–µ—Ç–∞–º, —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å)?',
  '–ö–∞–∫ –≤—ã —É—á–∏–ª–∏—Å—å –ø–∏—Å–∞—Ç—å, —á–∏—Ç–∞—Ç—å –∏ —Å—á–∏—Ç–∞—Ç—å? –ü—Ä–∏–Ω–æ—Å–∏–ª–æ –ª–∏ —ç—Ç–æ –≤–∞–º —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∏ –±—ã–ª–∏ –ª–∏ –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞ —ç—Ç–æ–º –ø—É—Ç–∏?',
  '–ë—ã–ª–∏ –ª–∏ —É –≤–∞—Å —Å—Ç—Ä–∞—à–Ω—ã–µ —É—á–∏—Ç–µ–ª—è?',
  '–ü–æ–º–æ–≥–∞–ª–∏ –ª–∏ –≤–∞–º —Å —É—á—ë–±–æ–π, –¥–æ–º–∞—à–Ω–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏?',
  '–ö–∞–∫ –≤ –≤–∞—à–µ–π —Å–µ–º—å–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å —É—Å–ø–µ—Ö–∏ –∏ –Ω–µ—É–¥–∞—á–∏ –≤ —à–∫–æ–ª–µ?',
  '–í —á—ë–º –ø—Ä–æ—è–≤–ª—è–ª—Å—è –≤–∞—à –ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å? –°—Ç–∞–≤–∏–ª–∏ –ª–∏ –≤—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑—É—á–µ–Ω–∏—è –º–∏—Ä–∞?',
  '–ë—ã–ª–∏ –ª–∏ —É –≤–∞—Å –¥–µ–Ω—å–≥–∏ –≤ –¥–µ—Ç—Å—Ç–≤–µ –∏ –∫–∞–∫ –≤—ã –∏–º–∏ —Ä–∞—Å–ø–æ—Ä—è–∂–∞–ª–∏—Å—å –∏ –º–æ–≥–ª–∏ –ª–∏ –≤—ã —Ä–∞—Å–ø–æ—Ä—è–∂–∞—Ç—å—Å—è –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é?',
  '–ö–∞–∫ –≤—ã –¥–æ–±–∏—Ä–∞–ª–∏—Å—å –¥–æ —à–∫–æ–ª—ã, —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–ª–∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏? –ö–∞–∫ –æ—Å–≤–∞–∏–≤–∞–ª–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≥–æ—Ä–æ–¥–∞?',
  '–ë—ã–ª–∏ –ª–∏ –ø–µ—Ä–≤—ã–µ —à–∫–æ–ª—å–Ω—ã–µ –¥—Ä—É–∑—å—è?',
  '–ë—ã–ª–∏ –ª–∏ –≤ —ç—Ç–æ–º –ø–µ—Ä–∏–æ–¥–µ –∏—Å—Ç–æ—Ä–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ç–µ–º, —á—Ç–æ –≤—ã –≥–æ–≤–æ—Ä–∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–¥—É, —Ñ–∞–Ω—Ç–∞–∑–∏—Ä–æ–≤–∞–ª–∏?',
  '–ö–∞–∫ –≤–∞–º –∫–∞–∂–µ—Ç—Å—è –≤ –∫–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –≤–∞—à–µ –¥–µ—Ç—Å—Ç–≤–æ, —á—Ç–æ –≤—ã –ø–æ—Ç–µ—Ä—è–ª–∏?',
  '–ë—ã–ª–æ –ª–∏ –≤–∞–º —Å—Ç—ã–¥–Ω–æ –∑–∞ —Å–µ–±—è –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏?',
  '–ö–∞–∫–∏–µ —à—Ç—É–∫–∏ –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞ –≤—ã –∫—É–ø–∏–ª–∏ –∏–ª–∏ —Å–¥–µ–ª–∞–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º, –∞ –∫–∞–∫–∏–µ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–ª–∏?',
  '–û–∂–∏–¥–∞–µ—Ç–µ –ª–∏ –≤—ã —Å–µ–π—á–∞—Å –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –∏–ª–∏ —Å—Ç–∞—Ä—à–∏—Ö –∫–æ–ª–ª–µ–≥, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ —Ä–∞–±–æ—Ç—É?',
  '–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –ø—Ä–∞–≤–∏–ª–∞–º –∏ –Ω–æ—Ä–º–∞–º –≤ –∂–∏–∑–Ω–∏?',
];

export async function migrateTopicsToFirestore() {
  console.log('üöÄ Starting topics migration...');

  try {
    const topicsCollection = collection(db, 'topics');

    for (let i = 0; i < PRIMARY_SCHOOL_TOPICS.length; i += 1) {
      const topicData = {
        ageRange: 'primary-school',
        text: PRIMARY_SCHOOL_TOPICS[i],
        order: i + 1,
        createdAt: serverTimestamp(),
        createdBy: 'system',
      };

      await addDoc(topicsCollection, topicData);
      console.log(`‚úÖ Migrated topic ${i + 1}/${PRIMARY_SCHOOL_TOPICS.length}`);
    }

    console.log('üéâ Migration completed successfully!');
    console.log(`Total topics migrated: ${PRIMARY_SCHOOL_TOPICS.length}`);
  } catch (error) {
    console.error('‚ùå Migration failed:', error);
    throw error;
  }
}
