# –§–∏—á–∞: –ù–∞—É—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ Open Access –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º (Variant C + Hybrid –≤—ã–¥–∞—á–∞)

–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏ Codex-–∞–≥–µ–Ω—Ç—É. –û–Ω –∑–∞–¥–∞—ë—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å **–∂—ë—Å—Ç–∫–∏–º–∏ QA‚Äë–≥–µ–π—Ç–∞–º–∏** (—Ç–µ—Å—Ç—ã/—Å–±–æ—Ä–∫–∞/—Å–º–æ—É–∫), —á—Ç–æ–±—ã –∞–≥–µ–Ω—Ç –Ω–µ ‚Äú–µ—Ö–∞–ª –¥–∞–ª—å—à–µ‚Äù, –ø–æ–∫–∞ –Ω–µ —É–±–µ–¥–∏—Ç—Å—è, —á—Ç–æ –Ω–æ–≤—ã–π –∫–æ–¥ –Ω–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ.

---

## 1) –ß—Ç–æ –¥–µ–ª–∞–µ–º –∏ –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### UX (–≤–∞—Ä–∏–∞–Ω—Ç C + –≥–∏–±—Ä–∏–¥ –≤—ã–¥–∞—á–∏)
1) **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞**: –∫–Ω–æ–ø–∫–∞/–ø–ª–∞—à–∫–∞ ‚Äú–ù–∞—É—á–Ω—ã–π –ø–æ–∏—Å–∫‚Äù –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ç–æ–ø-–±–∞—Ä–µ —Ä—è–¥–æ–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ (‚Äú–ó–∞–º–µ—Ç–∫–∏‚Äù, ‚Äú–†–µ–¥–∞–∫—Ç–æ—Ä‚Äù, ‚Äú–ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å‚Äù, –ø—Ä–æ—Ñ–∏–ª—å).
   - –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤: `src/components/UserMenu.tsx`, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ `src/layouts/AppLayout.tsx`.

2) **Drawer (–æ–≤–µ—Ä–ª–µ–π –ø–æ–≤–µ—Ä—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã)**:
   - –ö–ª–∏–∫ –ø–æ ‚Äú–ù–∞—É—á–Ω—ã–π –ø–æ–∏—Å–∫‚Äù –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Drawer —Å–ø—Ä–∞–≤–∞ (–∏–ª–∏ —Å–Ω–∏–∑—É –Ω–∞ –º–æ–±–∏–ª–∫–µ): –ø–æ–ª–µ –≤–≤–æ–¥–∞ + –ø–µ—Ä–≤—ã–µ 15 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
   - –ï—Å—Ç—å –∫–Ω–æ–ø–∫–∞ **¬´–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã¬ª**, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥—ë—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/research?q=...`.

3) **–°—Ç—Ä–∞–Ω–∏—Ü–∞ `/research`**:
   - –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–∞—è –≤—ã–¥–∞—á–∞ —Å —Ç–µ–º –∂–µ –ø–æ–∏—Å–∫–æ–º + —Ñ–∏–ª—å—Ç—Ä—ã (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ: —è–∑—ã–∫, –≥–æ–¥).

### –ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø MVP
**–ë–µ–∑ LLM‚Äë—Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏.** ‚Äú–ê–±–∑–∞—Ü‚Äù –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–∞–±–æ—Ç—ã –¥–µ–ª–∞–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ:
- –ï—Å–ª–∏ –µ—Å—Ç—å abstract ‚Üí –±–µ—Ä—ë–º 2‚Äì3 –ø–µ—Ä–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è **–∏–ª–∏** –ø–µ—Ä–≤—ã–µ 450‚Äì650 —Å–∏–º–≤–æ–ª–æ–≤ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞/–ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏).
- –ï—Å–ª–∏ abstract –Ω–µ—Ç ‚Üí —Ñ–æ—Ä–º–∏—Ä—É–µ–º —á–µ—Å—Ç–Ω—ã–π –∞–±–∑–∞—Ü –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (‚Äú–≥–æ–¥/–∂—É—Ä–Ω–∞–ª/—Ç–∏–ø/—Ç–µ–º–∞‚Äù) –∏ –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ ¬´–æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º¬ª.

LLM‚Äë—Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—é (–¥–∞–∂–µ –º–∞–ª–µ–Ω—å–∫–æ–π –º–æ–¥–µ–ª—å—é) –≤—ã–Ω–æ—Å–∏–º –≤ Post‚ÄëMVP, —á—Ç–æ–±—ã –Ω–µ —Ä–∏—Å–∫–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–µ—Ç–∞/compute/–ª–∏–º–∏—Ç–∞–º–∏ serverless.

---

## 2) –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ ‚Äú—Å–ø–∏—Å–æ–∫ –Ω–∞—É—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫‚Äù (–ª–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è)

### Upstream API (–æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- **OpenAlex** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å (—à–∏—Ä–æ–∫–∏–π –æ—Ö–≤–∞—Ç, OA‚Äë–ø—Ä–∏–∑–Ω–∞–∫–∏).
- **Semantic Scholar** ‚Äî fallback: –¥–æ–±—ã–≤–∞—Ç—å plaintext abstract (–æ–±—ã—á–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π), –∫–æ–≥–¥–∞ —É OpenAlex –∞–±—Å—Ç—Ä–∞–∫—Ç–∞ –Ω–µ—Ç/–æ–Ω –Ω–µ–ø–æ–ª–Ω—ã–π.
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ Post‚ÄëMVP) **Unpaywall** ‚Äî –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è OA‚ÄëPDF –ø–æ DOI.

### ‚Äú–ù–∞—É—á–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏‚Äù, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–∑—Ä–µ—à–∞–µ–º —Å—Å—ã–ª–∫–∏ (Allow‚Äëlist)
–ß—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é ‚Äú–∏—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –Ω–∞—É—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö‚Äù, –≤ –ª–æ–≥–∏–∫–µ API –≤–≤–æ–¥–∏–º **—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π allow‚Äëlist —Ö–æ—Å—Ç–æ–≤**: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –≤—ã–¥–∞—á—É —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ landing page –∏–ª–∏ pdf URL –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º OA‚Äë—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º/–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º.

–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π —Å–ø–∏—Å–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º:
- `docs/research_sources.json` (—Å–º. –ø—Ä–∏–ª–æ–∂–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω –Ω–∏–∂–µ)
–∏–ª–∏ (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ runtime –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ) –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è/–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤:
- `src/features/researchSearch/config/research_sources.json`

MVP‚Äë–ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ OpenAlex/S2 —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ allow‚Äëlist **–ø–æ —Ö–æ—Å—Ç—É —Å—Å—ã–ª–∫–∏** (`primaryUrl` –∏–ª–∏ `oaPdfUrl`).
- –ï—Å–ª–∏ allow‚Äëlist —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π –∏ –≤—ã–¥–∞—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç–æ–π, API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ–Ω—å—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –æ—Ç–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Å—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ UI (‚Äú–Ω–∞—à–ª–æ—Å—å N —Ä–∞–±–æ—Ç‚Äù + –ø–æ–¥—Å–∫–∞–∑–∫–∞ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏).

---

## 3) –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 3.1 –ì–¥–µ –∂–∏–≤—ë—Ç backend
**Vercel serverless function**: `GET /api/papers`
- –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤–∏—Ç—å `api/papers.ts` (–∏–ª–∏ `api/papers/index.ts` ‚Äî –∫–∞–∫ —É–¥–æ–±–Ω–µ–µ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã).
- –§—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ fetch –∫ OpenAlex + (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ) –∫ Semantic Scholar.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `q` (string, required, min 3)
- `limit` (int, default 15, max 20)
- `langs` (csv, default `ru,zh,de,fr,es,en`)
- `mode` (`drawer|page`, optional) ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä ‚Äú–∫–∞–Ω–¥–∏–¥–∞—Ç–Ω–æ–≥–æ –ø—É–ª–∞‚Äù (–Ω–∞–ø—Ä–∏–º–µ—Ä 50 –¥–ª—è drawer –∏ 80 –¥–ª—è page)

–û—Ç–≤–µ—Ç: –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π JSON (—Å–º. –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∏–∂–µ).

### 3.2 –ì–¥–µ –¥–æ–±–∞–≤–ª—è–µ–º UI –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- Top‚Äëbar –∫–Ω–æ–ø–∫–∞: `src/components/UserMenu.tsx`
- Drawer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: `src/features/researchSearch/components/ResearchSearchDrawer.tsx`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–¥–∞—á–∏: `src/features/researchSearch/pages/ResearchPage.tsx`
- –†–æ—É—Ç–∏–Ω–≥:
  - Router: `src/App.jsx` (`<BrowserRouter>`)
  - –ú–∞—Ä—à—Ä—É—Ç—ã: `src/app/AppRoutes.tsx` ‚Üí –¥–æ–±–∞–≤–∏—Ç—å Route `/research`
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –Ω–∞–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫—É—Ä—Å–∞: –¥–æ–±–∞–≤–∏—Ç—å –º–∞–ª–µ–Ω—å–∫—É—é –∫–Ω–æ–ø–∫—É/–ø–æ–ª–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç –ª–µ–≤—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–µ—Å—Ç–æ –ø–æ –∫–æ–¥‚Äë–±–∞–∑–µ).

---

## 4) –ö–æ–Ω—Ç—Ä–∞–∫—Ç API

### Request
`GET /api/papers?q=...&limit=15&langs=ru,zh,de,fr,es,en&mode=drawer`

### Response 200
```json
{
  "query": "‚Ä¶",
  "results": [
    {
      "id": "openalex:W123‚Ä¶",
      "title": "‚Ä¶",
      "year": 2021,
      "authors": ["‚Ä¶", "‚Ä¶"],
      "venue": "‚Ä¶",
      "language": "ru",
      "doi": "10.‚Ä¶",
      "primaryUrl": "https://‚Ä¶",
      "oaPdfUrl": "https://‚Ä¶",
      "paragraph": "‚Ä¶",
      "source": "openalex",
      "score": 0.87,
      "host": "cyberleninka.ru"
    }
  ],
  "meta": {
    "tookMs": 842,
    "cached": true,
    "sourcesUsed": ["openalex", "semanticscholar"],
    "allowListApplied": true
  }
}
```

### Errors
- 400 ‚Äî invalid query / params
- 429 ‚Äî rate limit exceeded
- 502 ‚Äî upstream unavailable (OpenAlex down)
- 500 ‚Äî unexpected error (–±–µ–∑ —É—Ç–µ—á–µ–∫ –¥–µ—Ç–∞–ª–µ–π)

---

## 5) –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞—á–µ—Å—Ç–≤—É –∏ –≥–µ–π—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

### –°—Ç–µ–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–∏–π —Å—Ç–µ–∫: Vitest + Testing Library + jest-dom + jsdom.

### –ó–∞–ø—Ä–µ—Ç console.*
–í src/* –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å `console.*` (pre-commit). –î–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `debugLog/debugWarn/debugError`.

### –ì–µ–π—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–ø–Ω–æ–≥–æ —à–∞–≥–∞ –∞–≥–µ–Ω—Ç –æ–±—è–∑–∞–Ω:
1) –ó–∞–ø—É—Å—Ç–∏—Ç—å unit/component —Ç–µ—Å—Ç—ã.
2) –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä–∫—É.
3) –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä—É—á–Ω–æ–π —Å–º–æ—É–∫ (–º–∏–Ω–∏–º—É–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∏–∂–µ).
4) –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `docs/qa-smoke-log.md` (–¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å: –¥–∞—Ç–∞, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, commit hash).

**–ê–≥–µ–Ω—Ç –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç, –ø–æ–∫–∞ –≥–µ–π—Ç –Ω–µ –∑–µ–ª—ë–Ω—ã–π.**

---

## 6) –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–ª—è Codex)

> –í–ê–ñ–ù–û: —Å–ª–µ–¥–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Ñ–∏—á–∞‚Äë–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, SRP, –º–∞–ª–µ–Ω—å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### –®–∞–≥ A ‚Äî –°–∫–µ–ª–µ—Ç —Ñ–∏—á–∏ + –ø—É—Å—Ç–æ–π Drawer
A1) –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∏—á–∏:
- `src/features/researchSearch/`
  - `components/`
  - `hooks/`
  - `lib/`
  - `config/`
  - `types.ts`
  - `index.ts` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

A2) –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã (`types.ts`):
- `ResearchWork`
- `PapersApiResponse`
- `PapersApiError`

A3) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Drawer (–ø–æ–∫–∞ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤):
- `ResearchSearchDrawer.tsx` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `open`, `onClose`
- –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: –ø–æ–ª–µ + —Ç–µ–∫—Å—Ç ‚Äú–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ‚Äù

A4) –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ‚Äú–ù–∞—É—á–Ω—ã–π –ø–æ–∏—Å–∫‚Äù –≤ `src/components/UserMenu.tsx` (—Ä—è–¥–æ–º —Å ‚Äú–ó–∞–º–µ—Ç–∫–∏‚Äù):
- –ü–æ –∫–ª–∏–∫—É –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Drawer
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: `aria-label`, –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Esc

**–¢–µ—Å—Ç—ã**
- Component test: ‚Äú–∫–Ω–æ–ø–∫–∞ –µ—Å—Ç—å; –∫–ª–∏–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Drawer; Esc –∑–∞–∫—Ä—ã–≤–∞–µ—Ç Drawer‚Äù.

**–ì–µ–π—Ç**

---

### –®–∞–≥ B ‚Äî Backend: `GET /api/papers` (OpenAlex, –º–∏–Ω–∏–º—É–º)
B1) –î–æ–±–∞–≤–∏—Ç—å Vercel function `api/papers.ts`:
- –í–∞–ª–∏–¥–∞—Ü–∏—è `q`, `limit`, `langs`, `mode`
- –¢–∞–π–º–∞—É—Ç –≤–Ω–µ—à–Ω–µ–≥–æ fetch
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

B2) –ó–∞–ø—Ä–æ—Å –∫ OpenAlex:
- –° OA‚Äë—Ñ–∏–ª—å—Ç—Ä–æ–º
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–Ω—ã–π –ø—É–ª (50‚Äì80)
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—è (title, authors, year, doi, links)

B3) –ö—ç—à‚Äë–∑–∞–≥–æ–ª–æ–≤–∫–∏:
- `Cache-Control: s-maxage=86400, stale-while-revalidate=604800`

**–¢–µ—Å—Ç—ã**
- Unit: parse/validate params
- Unit: normalize OpenAlex fixture ‚Üí `ResearchWork[]`
- Unit: upstream error ‚Üí 502

**–ì–µ–π—Ç**

---

### –®–∞–≥ C ‚Äî –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ abstract + ‚Äúparagraph‚Äù (–±–µ–∑ S2)
C1) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `reconstructAbstractFromInvertedIndex(invertedIndex)`:
- –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

C2) `buildParagraph(work)`:
- –µ—Å–ª–∏ abstract ‚Üí excerpt
- –∏–Ω–∞—á–µ ‚Üí metadata paragraph (–ø–æ–º–µ—Ç–∫–∞)

C3) –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ pipeline –≤ API, —á—Ç–æ–±—ã –∫–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –∏–º–µ–ª–∞ `paragraph` (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ).

**–¢–µ—Å—Ç—ã**
- Unit: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ inverted index (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–µ–π—Å–æ–≤)
- Unit: paragraph builder (abstract vs metadata)

**–ì–µ–π—Ç**

---

### –®–∞–≥ D ‚Äî Allow‚Äëlist ‚Äú–Ω–∞—É—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫‚Äù (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
D1) –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª `docs/research_sources.json` (—à–∞–±–ª–æ–Ω –Ω–∏–∂–µ; —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π —Å–ø–∏—Å–æ–∫).
D2) –ó–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è runtime (–æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤):
- –í–∞—Ä–∏–∞–Ω—Ç 1 (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏): —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ø–∏—é –≤ `src/features/researchSearch/config/research_sources.json` –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ—ë –≤ API –∫–æ–¥ (Node —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å JSON).
- –í–∞—Ä–∏–∞–Ω—Ç 2: —á–∏—Ç–∞—Ç—å JSON –∏–∑ `docs/` —á–µ—Ä–µ–∑ fs (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, —á—Ç–æ —Ñ–∞–π–ª –ø–æ–ø–∞–¥—ë—Ç –≤ deployment bundle; –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –≤–∞—Ä–∏–∞–Ω—Ç 1).

D3) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `isAllowedHost(url)`:
- –∏–∑–≤–ª–µ—á—å hostname
- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª—é—á—ë–Ω –ª–∏ source –≤ allow‚Äëlist
- –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –∫–∞–∂–¥–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É: –¥–æ–ø—É—Å–∫–∞–µ–º, –µ—Å–ª–∏ `oaPdfUrl` –∏–ª–∏ `primaryUrl` –ø—Ä–æ—Ö–æ–¥–∏—Ç allow‚Äëlist.

D4) –ï—Å–ª–∏ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ < limit:
- –≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—å—à–µ –∏ —á–µ—Å—Ç–Ω–æ —É–∫–∞–∑–∞—Ç—å `meta.allowListApplied=true`

**–¢–µ—Å—Ç—ã**
- Unit: host parsing + allow/deny
- Unit: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–¥–∞—á–∏ (fixture) —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ

**–ì–µ–π—Ç**

---

### –®–∞–≥ E ‚Äî Fallback Semantic Scholar (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)
E1) –î–ª—è —Ä–∞–±–æ—Ç –±–µ–∑ abstract –ø–æ—Å–ª–µ C/D:
- –µ—Å–ª–∏ –µ—Å—Ç—å DOI ‚Üí –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å abstract —á–µ—Ä–µ–∑ S2
- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º: –º–∞–∫—Å–∏–º—É–º 5 fallback –≤—ã–∑–æ–≤–æ–≤/–∑–∞–ø—Ä–æ—Å
- —Ç–∞–π–º–∞—É—Ç –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤

E2) –ú–µ—Ä–∂–∏—Ç—å abstract –∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å paragraph.

**–¢–µ—Å—Ç—ã**
- Unit: –ª–æ–≥–∏–∫–∞ –æ—Ç–±–æ—Ä–∞ –Ω–∞ fallback + –ª–∏–º–∏—Ç 5
- Mock fetch: –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –Ω–µ –¥–µ–ª–∞–µ–º >5 –∑–∞–ø—Ä–æ—Å–æ–≤

**–ì–µ–π—Ç**

---

### –®–∞–≥ F ‚Äî –Ø–∑—ã–∫–æ–≤–∞—è –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (MVP)
F1) –ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (title+abstract):
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—ë–≥–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (–µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å) –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–µ—Ç–µ–∫—Ç–æ—Ä (CJK/–∫–∏—Ä–∏–ª–ª–∏—Ü–∞/–ª–∞—Ç–∏–Ω–∏—Ü–∞ + —Å—Ç–æ–ø‚Äë—Å–ª–æ–≤–∞).
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `en|ru|zh|de|fr|es|unknown`

F2) Diversification:
- –Ω–µ ‚Äú–∫–≤–æ—Ç–∏—Ä—É–µ–º‚Äù –∂—ë—Å—Ç–∫–æ, –Ω–æ —Å—Ç–∞—Ä–∞–µ–º—Å—è –∏–∑–±–µ–∂–∞—Ç—å 15/15 English, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –±–ª–∏–∑–∫–æ–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏.
- –ø—Ä–∞–≤–∏–ª–æ: –Ω–µ –ø–æ–¥–º–µ—à–∏–≤–∞—Ç—å —Å–∏–ª—å–Ω–æ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ —Ä–∞–¥–∏ —è–∑—ã–∫–∞.

**–¢–µ—Å—Ç—ã**
- Unit: diversification —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç limit –∏ —É—Å—Ç–æ–π—á–∏–≤—ã–π –ø–æ—Ä—è–¥–æ–∫

**–ì–µ–π—Ç**

---

### –®–∞–≥ G ‚Äî –†–µ–∞–ª—å–Ω—ã–π Drawer UI (fetch + —Å–æ—Å—Ç–æ—è–Ω–∏—è)
G1) –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å hook `useResearchSearch()`:
- debounce 500‚Äì800ms
- abort previous request
- min query length 3
- caching –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (Map) –ø–æ (q, langs)

G2) Drawer UI:
- Loading / Error / Empty / Results states
- –ö–∞—Ä—Ç–æ—á–∫–∏: title, authors, year, host badge, –∫–Ω–æ–ø–∫–∞ ‚Äú–û—Ç–∫—Ä—ã—Ç—å‚Äù
- ‚Äú–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã‚Äù ‚Üí `navigate('/research?q=...')`

**–¢–µ—Å—Ç—ã**
- Component: debounce –∏ fetch –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Component: —Ä–µ–Ω–¥–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏–π
- Component: –∫–Ω–æ–ø–∫–∞ ‚Äú–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã‚Äù –≤–µ–¥—ë—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL

**–ì–µ–π—Ç**

---

### –®–∞–≥ H ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/research`
H1) –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `ResearchPage.tsx`:
- —á–∏—Ç–∞–µ—Ç `q` –∏–∑ query string (useSearchParams)
- –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–∏—Å–∫
- —Ñ–∏–ª—å—Ç—Ä—ã: —è–∑—ã–∫, –≥–æ–¥ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ)
- –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫

H2) –†–æ—É—Ç–∏–Ω–≥:
- –í `src/app/AppRoutes.tsx` –¥–æ–±–∞–≤–∏—Ç—å:
  - `Route path="/research" element={<ResearchPage/>}` (—Å `RequireAuth`, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø)

**–¢–µ—Å—Ç—ã**
- Component: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∏—Ç–∞–µ—Ç `q` –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- Component: —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Å–ø–∏—Å–∫–µ)

**–ì–µ–π—Ç**

---

### –®–∞–≥ I ‚Äî Rate limiting + —Ñ–∏–Ω–∞–ª—å–Ω–∞—è QA
I1) –î–æ–±–∞–≤–∏—Ç—å rate limiter –≤ API (30 req / 5 min / IP)
I2) –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–º–æ—É–∫ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- –û—Ç–∫—Ä—ã—Ç—å –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫—É—Ä—Å–∞ ‚Üí –æ—Ç–∫—Ä—ã—Ç—å Drawer ‚Üí –ø–æ–∏—Å–∫
- ‚Äú–û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã‚Äù ‚Üí /research
- –§–∏–ª—å—Ç—Ä—ã /research
- –í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ‚Äú–ó–∞–º–µ—Ç–∫–∏/–†–µ–¥–∞–∫—Ç–æ—Ä/–ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å‚Äù –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∏

I3) –ó–∞–ø–∏—Å—å –≤ `docs/qa-smoke-log.md`

**–ì–µ–π—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π**

---

## 7) –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

1) –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —á–∏—Å–ª–æ –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤:
- 1 –∑–∞–ø—Ä–æ—Å OpenAlex
- –¥–æ 5 –∑–∞–ø—Ä–æ—Å–æ–≤ S2 (fallback)
2) –í—Å–µ–≥–¥–∞ –∏–º–µ—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é (—á–∞—Å—Ç–∏—á–Ω–∞—è –≤—ã–¥–∞—á–∞ –ª—É—á—à–µ –æ—à–∏–±–∫–∏).
3) –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN‚Äë–∫—ç—à —á–µ—Ä–µ–∑ Cache-Control.
4) –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å server-side memoization (in-memory Map) –Ω–∞ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞.

---

## 8) Post‚ÄëMVP (–æ—Ç–ª–æ–∂–µ–Ω–æ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∑–∞–º–µ—Ç–∫–∏"
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (APA/–ì–û–°–¢)
- LLM‚Äë—Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏/–ª–∏–º–∏—Ç–æ–≤)

---

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (2025-12-14)

### MVP –í—ã–ø–æ–ª–Ω–µ–Ω

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ API endpoint `/api/papers` (Vercel serverless)
- ‚úÖ Wikidata –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è multilingual query expansion
- ‚úÖ Promise.allSettled –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- ‚úÖ Allow-list —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è OA-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (research_sources.json)
- ‚úÖ Abstract reconstruction –∏–∑ inverted index
- ‚úÖ Semantic Scholar fallback –¥–ª—è abstracts
- ‚úÖ Drawer –∫–æ–º–ø–æ–Ω–µ–Ω—Ç + —Å—Ç—Ä–∞–Ω–∏—Ü–∞ /research
- ‚úÖ Language/year —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ Rate limiting (30 req/5min per IP)
- ‚úÖ TTL cache (client + server)

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ (–ª–æ–∫–∞–ª—å–Ω–æ):**
- ‚úÖ –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ "–Ω–∞—Ä—Ü–∏—Å—Å–∏–∑–º" ‚Üí 20 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (EN 75%, RU 25%)
- ‚úÖ Query variants: ["–Ω–∞—Ä—Ü–∏—Å—Å–∏–∑–º", "narcissism", "autoeroticism", ...]
- ‚úÖ Promise.allSettled –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ DOI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è

**–î–µ–ø–ª–æ–π:** –ì–æ—Ç–æ–≤–æ –∫ production

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –î–û–õ–ì –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò (v2)

### Must Fix (–ø–µ—Ä–µ–¥ —à–∏—Ä–æ–∫–∏–º —Ä–µ–ª–∏–∑–æ–º)

#### 1. Debug-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ api/papers.ts
**–ü—Ä–æ–±–ª–µ–º–∞:** 15+ `console.log` –≤ production –∫–æ–¥–µ (—Å—Ç—Ä–æ–∫–∏ 358-442)
**–†–µ—à–µ–Ω–∏–µ:** –£—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ ENV-based
```typescript
const DEBUG = process.env.NODE_ENV === 'development';
const log = DEBUG ? console.log : () => {};
```
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–≠—Ñ—Ñ–µ–∫—Ç:** –ß–∏—Å—Ç—ã–π production –∫–æ–¥

#### 2. Rate Limit Memory Leak
**–ü—Ä–æ–±–ª–µ–º–∞:** `rateLimitStore` Map —Ä–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, —Å—Ç–∞—Ä—ã–µ IP –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
**–§–∞–π–ª:** `api/papers.ts:78`
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ expired entries (1% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH
**–≠—Ñ—Ñ–µ–∫—Ç:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç memory leak –≤ long-running serverless instances

---

### Should Fix (v2)

#### 3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ URL
**–ü—Ä–æ–±–ª–µ–º–∞:** URL –ø–∞—Ä—Å–∏—Ç—Å—è 2 —Ä–∞–∑–∞ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–∞–±–æ—Ç—ã (cleanHost + isAllowedUrl)
**–§–∞–π–ª:** `api/papers.ts:94-122`
**–†–µ—à–µ–Ω–∏–µ:** –ï–¥–∏–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `parseUrlOnce()` —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–≠—Ñ—Ñ–µ–∫—Ç:** -30% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ allow-list —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é (160 –ø–∞—Ä—Å–∏–Ω–≥–æ–≤ –≤–º–µ—Å—Ç–æ 320)

#### 4. Cache Memory Leak
**–ü—Ä–æ–±–ª–µ–º–∞:** TtlCache –Ω–µ —É–¥–∞–ª—è–µ—Ç expired entries –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–§–∞–π–ª:** `src/features/researchSearch/lib/cache.ts:11-18`
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π cleanup –∏–ª–∏ LRU eviction
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM
**–≠—Ñ—Ñ–µ–∫—Ç:** -50% memory –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ

#### 5. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** `DEFAULT_LANGS` –≤ 3 –º–µ—Å—Ç–∞—Ö (api/papers.ts, useResearchSearch.ts, ResearchPage.tsx)
**–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ `src/features/researchSearch/config/constants.ts`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** LOW
**–≠—Ñ—Ñ–µ–∫—Ç:** DRY, –ª–µ–≥—á–µ –º–µ–Ω—è—Ç—å

#### 6. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ Stopwords
**–ü—Ä–æ–±–ª–µ–º–∞:** `GENERIC_STOPWORDS` —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≤–∞–∂–Ω—ã–µ –Ω–∞—É—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã ("theory", "study")
**–§–∞–π–ª:** `src/features/researchSearch/lib/queryVariants.ts:3`
**–†–µ—à–µ–Ω–∏–µ:** Context-aware stopwords –∏–ª–∏ —É–±—Ä–∞—Ç—å –Ω–∞—É—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** LOW
**–≠—Ñ—Ñ–µ–∫—Ç:** +10-15% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### –ú–µ—Ç—Ä–∏–∫–∏ Code Quality

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ | –°—Ç–∞—Ç—É—Å |
|--------|--------|--------|
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | 9/10 | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 7/10 | ‚ö†Ô∏è –ï—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å | 8/10 | ‚úÖ –•–æ—Ä–æ—à–æ |
| Maintainability | 7/10 | ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 8/10 | ‚úÖ Rate limit OK |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 7.8/10 ‚Äî Production-ready —Å –º–∏–Ω–æ—Ä–Ω—ã–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–µ–ø–ª–æ–π MVP** ‚Üí Vercel production
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Üí –õ–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, user feedback
3. **–ò—Ç–µ—Ä–∞—Ü–∏—è v2** ‚Üí –§–∏–∫—Å—ã –∏–∑ "Must Fix" + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. **Post-MVP** ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∑–∞–º–µ—Ç–∫–∏, —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
