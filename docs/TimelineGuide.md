# Timeline Guide

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `src/pages/Timeline.tsx` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- üìã **[–ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./README.md)** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- üîß **[–ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–∞–π–º–ª–∞–π–Ω–∞](./TIMELINE_REFACTORING_PLAN.md)** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã
- üìö **[–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤](./TESTS_SYSTEM_GUIDE.md)** - —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º–µ—Ç–∫–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã)
- üóìÔ∏è **[–ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ—Å—Ç–æ–≤](./TESTS_REFACTORING_PLAN.md)** - –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

---

## –û–±–∑–æ—Ä

- –î–æ—Å—Ç—É–ø–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ –º–∞—Ä—à—Ä—É—Ç—É `/timeline`.
- –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∫ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π `SVG`‚Äë—Ö–æ–ª—Å—Ç —Å –ø–∞–Ω–µ–ª—è–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞.
- –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è, –ª–∏—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–µ—Ç–∫–∏ —Ä–∞–∑–≤–∏—Ç–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

–ö–æ–¥ —Ç–∞–π–º–ª–∞–π–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –≤ –º–æ–¥—É–ª–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

```
src/pages/
‚îú‚îÄ‚îÄ Timeline.tsx                  # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (~2113 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ timeline/                     # –ú–æ–¥—É–ª–∏ —Ç–∞–π–º–ª–∞–π–Ω–∞
    ‚îú‚îÄ‚îÄ index.ts                  # –≠–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
    ‚îú‚îÄ‚îÄ types.ts                  # TypeScript —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
    ‚îú‚îÄ‚îÄ constants.ts              # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
    ‚îú‚îÄ‚îÄ utils/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # –û—Å–Ω–æ–≤–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –ø–∞—Ä—Å–∏–Ω–≥)
    ‚îÇ   ‚îú‚îÄ‚îÄ ageToRange.ts         # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –≤ AgeRange
    ‚îÇ   ‚îî‚îÄ‚îÄ exporters.ts          # –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON, PNG, PDF
    ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îú‚îÄ‚îÄ IconPickerButton.tsx         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º
    ‚îÇ   ‚îú‚îÄ‚îÄ PeriodizationSelector.tsx    # –°–µ–ª–µ–∫—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ PeriodizationLayer.tsx       # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
    ‚îÇ   ‚îú‚îÄ‚îÄ PeriodBoundaryModal.tsx      # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ BulkEventCreator.tsx         # –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
    ‚îÇ   ‚îî‚îÄ‚îÄ SaveEventAsNoteButton.tsx    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∫ –∑–∞–º–µ—Ç–∫–∏
    ‚îú‚îÄ‚îÄ hooks/
    ‚îÇ   ‚îî‚îÄ‚îÄ useTimelineHistory.ts # –•—É–∫ –¥–ª—è undo/redo —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
    ‚îî‚îÄ‚îÄ data/
        ‚îî‚îÄ‚îÄ periodizations.ts     # –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π –æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤

src/components/
‚îú‚îÄ‚îÄ NoteModal.tsx                 # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
‚îî‚îÄ‚îÄ SaveNoteAsEventButton.tsx     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è

src/hooks/
‚îú‚îÄ‚îÄ useNotes.ts                   # –†–∞–±–æ—Ç–∞ —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
‚îî‚îÄ‚îÄ useTimeline.ts                # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω –∏–∑ –∑–∞–º–µ—Ç–æ–∫
```

### –ú–æ–¥—É–ª–∏

**types.ts** - –í—Å–µ TypeScript —Ç–∏–ø—ã:
- `Sphere` - —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ (–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫–∞—Ä—å–µ—Ä–∞, —Å–µ–º—å—è –∏ —Ç.–¥.)
- `NodeT` - —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- `EdgeT` - –≤–µ—Ç–∫–∞ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ª–∏–Ω–∏—è –∂–∏–∑–Ω–∏)
- `BirthDetails` - –¥–µ—Ç–∞–ª–∏ —Ä–æ–∂–¥–µ–Ω–∏—è
- `TimelineData` - –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–π–º–ª–∞–π–Ω–∞ (–≤–∫–ª—é—á–∞—è `selectedPeriodization`)
- `HistoryState` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è undo/redo
- `SaveStatus` - —Å—Ç–∞—Ç—É—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `Transform` - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è SVG-—Ö–æ–ª—Å—Ç–∞
- `Period` - –ø–µ—Ä–∏–æ–¥ –≤ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ (–≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–≤–µ—Ç)
- `Periodization` - –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –æ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∞ (–∫—Ä–∏—Ç–µ—Ä–∏–π, —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–∏–æ–¥–æ–≤, –≥–∏–±–∫–æ—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü)

**constants.ts** - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `YEAR_PX` - –ø–∏–∫—Å–µ–ª–∏ –Ω–∞ –≥–æ–¥ (80px)
- `LINE_X_POSITION` - X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ (2000px)
- `NODE_RADIUS`, `MIN_SCALE`, `MAX_SCALE` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `SPHERE_META` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ñ–µ—Ä (—Ü–≤–µ—Ç–∞, –Ω–∞–∑–≤–∞–Ω–∏—è, —ç–º–æ–¥–∑–∏)
- `SAVE_DEBOUNCE_MS` - –∑–∞–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (10000ms)

**utils/** - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `utils/index.ts`:
  - `screenToWorld()` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∏—Ä–∞
  - `clamp()` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö min-max
  - `parseAge()` - –ø–∞—Ä—Å–∏–Ω–≥ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏
  - `removeUndefined()` - —É–¥–∞–ª–µ–Ω–∏–µ undefined –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è Firestore
- `utils/ageToRange.ts`:
  - `ageToRange()` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å–ª–æ–≤–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–π AgeRange
  - –ü—Ä–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å—Ç–∞—Ä—à–∏–π –ø–µ—Ä–∏–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 7 –ª–µ—Ç ‚Üí 'primary-school', –∞ –Ω–µ 'preschool')
- `utils/exporters.ts`:
  - `exportTimelineJSON()`, `exportTimelinePNG()`, `exportTimelinePDF()` - —ç–∫—Å–ø–æ—Ä—Ç —Ç–∞–π–º–ª–∞–π–Ω–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

**components/IconPickerButton.tsx** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º:
- –í—Å–ø–ª—ã–≤–∞—é—â–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ 40 PNG-–∏–∫–æ–Ω–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Ü–≤–µ—Ç–æ–≤—ã—Ö —Ç–µ–º (emerald/sky)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**components/PeriodizationSelector.tsx** - –°–µ–ª–µ–∫—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è:
- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π —É—á—ë–Ω–æ–≥–æ (üë®‚Äçüè´) –∏ —Ç–µ–∫—Å—Ç–æ–º
- –ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω–∞ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ñ–∞–º–∏–ª–∏—é –ø—Å–∏—Ö–æ–ª–æ–≥–∞
- –ö–æ–≥–¥–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—Å—Ç "–ü–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏"
- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –º–µ–Ω—é —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**components/PeriodizationLayer.tsx** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤ –Ω–∞ —Ö–æ–ª—Å—Ç–µ:
- –†–µ–Ω–¥–µ—Ä–∏—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª–æ—Å—ã —Å –ø–∞—Å—Ç–µ–ª—å–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- –ü—É–Ω–∫—Ç–∏—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏ –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö (60px –≤—ã—Å–æ—Ç–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)
- Hover-—ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏, –∑–∞—Ç–µ–º –≤—Å–µ –ª–∏–Ω–∏–∏ (–¥–ª—è –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è –ø–µ—Ä–∏–æ–¥–æ–≤)

**components/PeriodBoundaryModal.tsx** - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏:
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Ä–µ—Ö–æ–¥–Ω–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ
- –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ "–¥–æ" –∏ –ø–µ—Ä–∏–æ–¥–∞ "–ø–æ—Å–ª–µ" –ø–µ—Ä–µ—Ö–æ–¥–∞
- –ö—Ä–∏—Ç–µ—Ä–∏–π –¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤ –¥–ª—è –¥–∞–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π —Å –≥–∏–±–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ö–æ–ª—å–±–µ—Ä–≥)
- –°—Å—ã–ª–∫–∞ –Ω–∞ Wikipedia –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–∫–Ω–∞ –∏–ª–∏ –ø–æ –∫–Ω–æ–ø–∫–µ

**components/BulkEventCreator.tsx** - –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π:
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π
- –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞: "–≤–æ–∑—Ä–∞—Å—Ç, –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è" (–∫–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ –∏ –Ω–∞ –≤–µ—Ç–∫–∞—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü –¥–ª—è –≤–µ—Ç–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤–µ—Ç–∫–∏, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏—è –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –µ—ë –ø—Ä–µ–¥–µ–ª—ã
- –ü—Ä–µ–≤—å—é –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º

**components/SaveEventAsNoteButton.tsx** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∫ –∑–∞–º–µ—Ç–∫–∏:
- –ö–Ω–æ–ø–∫–∞-–∏–∫–æ–Ω–∫–∞ (üìÑ) –≤ —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–µ–≤—å—é –±—É–¥—É—â–µ–π –∑–∞–º–µ—Ç–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ —á–µ—Ä–µ–∑ `ageToRange()`
- –ü–µ—Ä–µ–¥–∞—á–∞ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π —Å–æ–±—ã—Ç–∏—è (–≤–æ–∑—Ä–∞—Å—Ç, –ø–µ—Ä–∏–æ–¥, —Å—Ñ–µ—Ä–∞, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏) –≤ –∑–∞–º–µ—Ç–∫—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç React Portal –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–µ—Ç–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ z-index, position, display)

**hooks/useTimelineHistory.ts** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π:
- `saveToHistory()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `undo()`, `redo()` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
- `canUndo`, `canRedo` - —Ñ–ª–∞–≥–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ 50 —à–∞–≥–æ–≤

**data/periodizations.ts** - –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è:
- –ú–∞—Å—Å–∏–≤ `PERIODIZATIONS` —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç 7 –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤ –∏ –ø–µ–¥–∞–≥–æ–≥–æ–≤
- –ö–∞–∂–¥–∞—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç: –∞–≤—Ç–æ—Ä–∞, –∫—Ä–∏—Ç–µ—Ä–∏–π –¥–µ–ª–µ–Ω–∏—è, —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–∏–æ–¥–æ–≤, —Å—Å—ã–ª–∫—É –Ω–∞ Wikipedia
- –ü–∞—Å—Ç–µ–ª—å–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤
- –§—É–Ω–∫—Ü–∏—è `getPeriodizationById()` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ –ø–æ ID
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏:
  - **–ü–∏–∞–∂–µ** (–ñ–∞–Ω –ü–∏–∞–∂–µ) - —Å–æ–∑—Ä–µ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ (4 –ø–µ—Ä–∏–æ–¥–∞: 0-100 –ª–µ—Ç)
  - **–í—ã–≥–æ—Ç—Å–∫–∏–π** (–õ–µ–≤ –í—ã–≥–æ—Ç—Å–∫–∏–π) - —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –≤–µ–¥—É—â–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å (6 –ø–µ—Ä–∏–æ–¥–æ–≤: 0-21 –ª–µ—Ç)
  - **–≠—Ä–∏–∫—Å–æ–Ω** (–≠—Ä–∏–∫ –≠—Ä–∏–∫—Å–æ–Ω) - –ø—Å–∏—Ö–æ—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (8 –ø–µ—Ä–∏–æ–¥–æ–≤: 0-100 –ª–µ—Ç)
  - **–§—Ä–µ–π–¥** (–ó–∏–≥–º—É–Ω–¥ –§—Ä–µ–π–¥) - –ø—Å–∏—Ö–æ—Å–µ–∫—Å—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ (5 –ø–µ—Ä–∏–æ–¥–æ–≤: 0-100 –ª–µ—Ç)
  - **–ú–æ–Ω—Ç–µ—Å—Å–æ—Ä–∏** (–ú–∞—Ä–∏—è –ú–æ–Ω—Ç–µ—Å—Å–æ—Ä–∏) - —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∑—Ä–µ–≤–∞–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ (4 –ø–µ—Ä–∏–æ–¥–∞: 0-24 –ª–µ—Ç)
  - **–ì–µ–∑–µ–ª–ª** (–ê—Ä–Ω–æ–ª—å–¥ –ì–µ–∑–µ–ª–ª) - –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ–∑—Ä–µ–≤–∞–Ω–∏–µ –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (5 –ø–µ—Ä–∏–æ–¥–æ–≤: 0-16 –ª–µ—Ç)
  - **–ö–æ–ª—å–±–µ—Ä–≥** (–õ–æ—É—Ä–µ–Ω—Å –ö–æ–ª—å–±–µ—Ä–≥) - –º–æ—Ä–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ (6 —Å—Ç–∞–¥–∏–π: 4-100 –ª–µ—Ç, –≥–∏–±–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã)

**src/components/NoteModal.tsx** - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏:
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ —Å –ø–æ–ª—è–º–∏: –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –ø–µ—Ä–∏–æ–¥, —Ç–µ–º–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TopicSelector –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–µ–º –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
- –ö–Ω–æ–ø–∫–∞ "üìç –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω" –≤ footer (—Å–ª–µ–≤–∞) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –∏–∑ –∑–∞–º–µ—Ç–∫–∏
- –ö–Ω–æ–ø–∫–∏ "–û—Ç–º–µ–Ω–∞" –∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" (—Å–ø—Ä–∞–≤–∞)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—É–∫ `useTimeline` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ `addEventToTimeline`

**src/components/SaveNoteAsEventButton.tsx** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è:
- –ö–Ω–æ–ø–∫–∞ "üìç –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω" —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º —Ñ–æ—Ä–º—ã
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: –≤–æ–∑—Ä–∞—Å—Ç —Å–æ–±—ã—Ç–∏—è (0-100 –ª–µ—Ç), –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–∞–º–µ—Ç–∫–∏
- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ –ø–æ–ª–µ "–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏" —Å–æ–±—ã—Ç–∏—è
- –°–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ –∂–∏–∑–Ω–∏ (LINE_X_POSITION)
- –°—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç React Portal –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ z-index

**src/hooks/useNotes.ts** - –†–∞–±–æ—Ç–∞ —Å –∑–∞–º–µ—Ç–∫–∞–º–∏:
- `createNote()` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–º–µ—Ç–∫–∏ –≤ Firestore
- `updateNote()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–º–µ—Ç–∫–∏
- `deleteNote()` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
- Real-time –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–º—É –ø–µ—Ä–∏–æ–¥—É
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**src/hooks/useTimeline.ts** - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω:
- `addEventToTimeline()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–º–µ—Ç–æ–∫)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–π–º–ª–∞–π–Ω–∞ –∏–∑ Firestore
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- –î–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –º–∞—Å—Å–∏–≤ nodes
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å serverTimestamp()
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º SaveNoteAsEventButton

## UI-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å** (`fixed left`):
  - –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –ø—Ä–æ—Ñ–∏–ª—å.
  - –ü–æ–ª–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ ‚Äî –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–ª–∏–Ω—É ¬´–ø—Ä–æ–∂–∏—Ç–æ–π¬ª —á–∞—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏.
  - –ü–æ–ª–∑—É–Ω–æ–∫ ¬´–ü—Ä–æ–∫—Ä—É—Ç–∫–∞¬ª ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –≤—å—é–ø–æ—Ä—Ç –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º.
  - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä –º–∞—Å—à—Ç–∞–±–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ zoom'–∞.
  - –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ñ–µ—Ä–∞–º.
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–æ–ª—Å—Ç**:
  - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è –∂–∏–∑–Ω–∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É (`LINE_X_POSITION = 2000`), —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω–∞—è –Ω–∞ —Å–ø–ª–æ—à–Ω—É—é (–ø—Ä–æ—à–µ–¥—à–µ–µ) –∏ –ø—É–Ω–∫—Ç–∏—Ä–Ω—É—é (–±—É–¥—É—â–µ–µ) —á–∞—Å—Ç–∏.
  - –®–∫–∞–ª–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 5 –ª–µ—Ç –ø–æ –≤—Å–µ–π —à–∏—Ä–∏–Ω–µ —Ö–æ–ª—Å—Ç–∞.
  - –°–æ–±—ã—Ç–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ —Å –ø–æ–¥–ø–∏—Å—å—é, —Ü–≤–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ñ–µ—Ä—ã, –æ—Ç–º–µ—Ç–∫–∞ ¬´—Ä–µ—à–µ–Ω–∏–µ¬ª —Ä–∏—Å—É–µ—Ç—Å—è –∫—Ä–µ—Å—Ç–∏–∫–æ–º.
  - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ ¬´–≤–µ—Ç–æ—á–∫–∏¬ª —Å–æ–µ–¥–∏–Ω—è—é—Ç —Å–æ–±—ã—Ç–∏–µ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ª–∏–Ω–∏–µ–π (–æ—Å–Ω–æ–≤–Ω–æ–π –∏–ª–∏ –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏–µ–º).
  - –û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (edges) –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç –≤–µ—Ç–∫–∏ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –≤–æ–∑—Ä–∞—Å—Ç–æ–≤.
- **–ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å** (`fixed right`):
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—É—Å–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (idle/saving/saved/error) –∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏.
  - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è.
  - –ò–Ω—Ñ–æ—Ä–º–µ—Ä—ã –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ç–∫–µ –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏.
  - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≤–µ—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª–∏–Ω—ã –≤–µ—Ç–∫–∏ –∏ –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è.
  - –ë–ª–æ–∫ Undo/Redo —Å –≥–æ—Ä—è—á–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏.
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `showHelp`), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç–æ ‚Äî –≤—ã–∑–æ–≤ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI-—Ç—Ä–∏–≥–≥–µ—Ä.

## –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

- **–°–æ–±—ã—Ç–∏–µ (`NodeT`)**
  - `id`, `age`, `label`, `notes`, `isDecision`.
  - `sphere` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω, –≤—ã–±—Ä–∞–Ω –∏–∑ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è `Sphere`.
  - `x` ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–∏–Ω–∏–µ–π, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –æ—Å–∏).
  - `parentX` ‚Äî –∏—Å—Ö–æ–¥–Ω–∞—è –ª–∏–Ω–∏—è, —Å –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ —Å–æ–±—ã—Ç–∏–µ (–ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å).
- **–í–µ—Ç–∫–∞ (`EdgeT`)**
  - `id`, `x`, `startAge`, `endAge`, `color`, `nodeId` (—Å–æ–±—ã—Ç–∏–µ-–∏—Å—Ç–æ—á–Ω–∏–∫).
- **TimelineData**
  - `currentAge`, `ageMax` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω 100), `nodes`, `edges`, `birthDetails`.
  - `selectedPeriodization` ‚Äî ID –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ `null` (–µ—Å–ª–∏ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è –Ω–µ –≤—ã–±—Ä–∞–Ω–∞).
- **–ü–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è (`Periodization`)**
  - `id`, `name`, `author`, `wikiUrl`, `criterion` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏.
  - `periods` ‚Äî –º–∞—Å—Å–∏–≤ –ø–µ—Ä–∏–æ–¥–æ–≤ —Å –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏, –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏, –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –∏ —Ü–≤–µ—Ç–∞–º–∏.
  - `flexibleBoundaries` ‚Äî —Ñ–ª–∞–≥ –Ω–µ—á—ë—Ç–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü (–¥–ª—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π –≤—Ä–æ–¥–µ –ö–æ–ª—å–±–µ—Ä–≥–∞).
  - `boundaryNote` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –≥–∏–±–∫–æ—Å—Ç–∏ –≥—Ä–∞–Ω–∏—Ü, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ.
- **–ü–µ—Ä–∏–æ–¥ (`Period`)**
  - `startAge`, `endAge` ‚Äî –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø–µ—Ä–∏–æ–¥–∞ (–≤ –≥–æ–¥–∞—Ö).
  - `name`, `description` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞.
  - `color` ‚Äî –ø–∞—Å—Ç–µ–ª—å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ö–æ–ª—Å—Ç–µ.
- –ò—Å—Ç–æ—Ä–∏—è (`history`, `historyIndex`) —Ö—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å–Ω–∏–º–∫–∏ `nodes + edges` —Å –≥–ª—É–±–∏–Ω–æ–π –¥–æ 50 —à–∞–≥–æ–≤.

## –ö–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- **–ü–∏–∫—Ç–æ–≥—Ä–∞–º–º—ã —Å–æ–±—ã—Ç–∏–π**
  - –í —à–∞–ø–∫–µ —Ñ–æ—Ä–º –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–∫–æ–Ω–∫–∏; –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–ø–ª—ã–≤–∞—é—â–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ 40 PNG (`public/icons/events`, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ `icons.json`). –í—ã–±–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `iconId` –∏ –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫—Ä—É–≥ –Ω–∞ —Ö–æ–ª—Å—Ç–µ.
  - –ü–∏–∫—Ç–æ–≥—Ä–∞–º–º–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Å–æ–±—ã—Ç–∏–µ–º; –±–∞–∑–æ–≤—ã–π –∫—Ä—É–≥ –∏ –∫—Ä–µ—Å—Ç–∏–∫ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å.
  - –î–ª—è —Å–æ–±—ã—Ç–∏–π –±–µ–∑ –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º—ã –∫—Ä—É–≥ –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–ª—ã–º —Å —Ü–≤–µ—Ç–Ω–æ–π –æ–±–≤–æ–¥–∫–æ–π —Å—Ñ–µ—Ä—ã, –∫—Ä–µ—Å—Ç–∏–∫ ¬´–º–æ—ë —Ä–µ—à–µ–Ω–∏–µ¬ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö.
- **–ü—Ä–æ—Ñ–∏–ª—å —Ä–æ–∂–¥–µ–Ω–∏—è**
  - –¢–æ—á–∫–∞ ¬´üë∂ –†–æ–∂–¥–µ–Ω–∏–µ¬ª –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–∞: –ø—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–æ–ª—è–º–∏ ¬´–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è¬ª, ¬´–ì–æ—Ä–æ–¥ / –º–µ—Å—Ç–æ¬ª –∏ ¬´–û–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞¬ª.
  - –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `birthDetails` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Firestore; undo/redo –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.
  - –ö–∞—Ä—Ç–æ—á–∫—É –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (¬´–ó–∞–∫—Ä—ã—Ç—å¬ª) –∏–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º (¬´–û—á–∏—Å—Ç–∏—Ç—å¬ª).
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
  - –ö–ª–∏–∫ –ø–æ —Å–æ–±—ã—Ç–∏—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è (—É–¥–∞–ª—è–µ—Ç –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏).
- **–í–µ—Ç–∫–∏**
  - –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–µ—Ç–∫—É¬ª –≤ —Ñ–æ—Ä–º–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—ë—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π edge –∑–∞–¥–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã.
  - –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –≤–µ—Ç–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–µ (—Å–æ–±—ã—Ç–∏—è –Ω–∞ –Ω–µ–π –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ª–∏–Ω–∏–∏).
  - –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –µ–≥–æ –≤–µ—Ç–æ–∫ –∏ –≤—Å–µ—Ö –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã—Ö –∫ –Ω–∏–º —Å–æ–±—ã—Ç–∏–π.
- **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±**
  - –ö–æ–ª–µ—Å–æ –º—ã—à–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω—É —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –≥–ª–∞–≤–Ω–æ–π –ª–∏–Ω–∏–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `0.2 ‚â§ k ‚â§ 3`).
  - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Ö–æ–ª—Å—Ç–∞ –º—ã—à—å—é; –≤—å—é–ø–æ—Ä—Ç —Ç–∞–∫–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–ª–∑—É–Ω–∫–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞.
  - –°–æ–±—ã—Ç–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é—Ç—Å—è pointer-—Å–æ–±—ã—Ç–∏—è–º–∏; –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ drag —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é.
- **Undo/Redo –∏ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏**
  - Cmd/Ctrl+Z, Cmd/Ctrl+Shift+Z —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π.
  - Delete —É–¥–∞–ª—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, Escape —Å–Ω–∏–º–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ.
- **–ü–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è**
  - –ö–Ω–æ–ø–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ —Ä—è–¥–æ–º —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
  - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Ö–æ–ª—Å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª–æ—Å—ã —Å –ø–∞—Å—Ç–µ–ª—å–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º.
  - –ì—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç, 2px, dash pattern "8 4").
  - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è hover-—ç—Ñ—Ñ–µ–∫—Ç (—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä–∞—è –∑–∞–ª–∏–≤–∫–∞).
  - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
    - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä
    - –í–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏
    - –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ "–¥–æ" –∏ "–ø–æ—Å–ª–µ" –≥—Ä–∞–Ω–∏—Ü—ã
    - –ö—Ä–∏—Ç–µ—Ä–∏–π –¥–µ–ª–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–π –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏
    - –î–ª—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π —Å –≥–∏–±–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ö–æ–ª—å–±–µ—Ä–≥) ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞: –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ö–µ–º –≤–µ–¥—ë—Ç –Ω–∞ Wikipedia, –∞ –¥–ª—è –æ–ø—Ü–∏–∏ ¬´–ö–∞–∫ –≤ –∫—É—Ä—Å–µ¬ª ‚Äî –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å–∞–π—Ç–∞, –ø–æ—Å–≤—è—â—ë–Ω–Ω—ã–π –º–ª–∞–¥—à–µ–º—É –∏–∑ –¥–≤—É—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤
  - –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Firestore –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–π–º–ª–∞–π–Ω–∞.
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞).
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—é, –≤—ã–±—Ä–∞–≤ –æ–ø—Ü–∏—é "–ë–µ–∑ –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏".
  - –ü–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è ¬´–ö–∞–∫ –≤ –∫—É—Ä—Å–µ¬ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –±–ª–æ–∫–∏, —á—Ç–æ –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª: –æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü –ø–æ–≤—Ç–æ—Ä—è—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É –∑–∞–Ω—è—Ç–∏–π –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.

## –°–≤—è–∑—å —Ç–∞–π–º–ª–∞–π–Ω–∞ –∏ –∑–∞–º–µ—Ç–æ–∫

–¢–∞–π–º–ª–∞–π–Ω –∏ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–º–µ—Ç–æ–∫ —Ç–µ—Å–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –¥–≤—É–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∫ –∑–∞–º–µ—Ç–∫–∏

- **–¢—Ä–∏–≥–≥–µ—Ä**: –í —Ñ–æ—Ä–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è, —Å–ª–µ–≤–∞ –æ—Ç —á–µ–∫–±–æ–∫—Å–∞ "–≠—Ç–æ –±—ã–ª–æ –º–æ—ë —Ä–µ—à–µ–Ω–∏–µ", —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –∏–∫–æ–Ω–∫–∞ –∑–∞–º–µ—Ç–∫–∏ (üìÑ).
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `SaveEventAsNoteButton` (`src/pages/timeline/components/SaveEventAsNoteButton.tsx`)
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
  1. –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å –ø—Ä–µ–≤—å—é –±—É–¥—É—â–µ–π –∑–∞–º–µ—Ç–∫–∏.
  2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è, –≤–æ–∑—Ä–∞—Å—Ç, –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –ø–µ—Ä–∏–æ–¥ (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `ageToRange`), —Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏.
  3. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–º–µ—Ç–∫–∞ —Å:
     - **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
     - **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –≤–æ–∑—Ä–∞—Å—Ç–æ–º, –ø–µ—Ä–∏–æ–¥–æ–º, —Å—Ñ–µ—Ä–æ–π –∂–∏–∑–Ω–∏ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏ —Å–æ–±—ã—Ç–∏—è
     - **AgeRange**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É (–ø—Ä–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å—Ç–∞—Ä—à–∏–π –ø–µ—Ä–∏–æ–¥)
     - **topicId/topicTitle**: `null` (–∑–∞–º–µ—Ç–∫–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —Ç–µ–º–µ)
  4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ **React Portal** –≤ `document.body`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å z-index –∏–µ—Ä–∞—Ä—Ö–∏–µ–π —Ç–∞–π–º–ª–∞–π–Ω–∞.

- **–£—Ç–∏–ª–∏—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞**: `ageToRange` (`src/pages/timeline/utils/ageToRange.ts`)
  - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —á–∏—Å–ª–æ–≤–æ–π –≤–æ–∑—Ä–∞—Å—Ç –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–π `AgeRange` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 25 –ª–µ—Ç ‚Üí `'earlyAdult'`)
  - **–í–∞–∂–Ω–æ**: –ü—Ä–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 7 –ª–µ—Ç –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ `preschool` (3-7) –∏ `primary-school` (7-10)) –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å—Ç–∞—Ä—à–∏–π/–±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏–π –ø–µ—Ä–∏–æ–¥ (`primary-school`)
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª–æ–≥–∏–∫–æ–π –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏ –∑–∞–º–µ—Ç–æ–∫ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è

- **–¢—Ä–∏–≥–≥–µ—Ä**: –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ (`NoteModal`), –≤ footer —Å–ª–µ–≤–∞ –æ—Ç –∫–Ω–æ–ø–æ–∫ "–û—Ç–º–µ–Ω–∞" –∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üìç –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω".
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `SaveNoteAsEventButton` (`src/components/SaveNoteAsEventButton.tsx`)
- **–•—É–∫**: `useTimeline` (`src/hooks/useTimeline.ts`) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `addEventToTimeline`
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
  1. –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ä–º–æ–π:
     - **–í–æ–∑—Ä–∞—Å—Ç —Å–æ–±—ã—Ç–∏—è** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, 0-100 –ª–µ—Ç)
     - **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∑–∞–º–µ—Ç–∫–∏)
     - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–≤—å—é –±—É–¥—É—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
  2. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ:
     - **age**: –≤–≤–µ–¥—ë–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤–æ–∑—Ä–∞—Å—Ç
     - **label**: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
     - **notes**: —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ (–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç)
     - **x**: `LINE_X_POSITION` (—Å–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ –∂–∏–∑–Ω–∏)
     - **sphere**: `undefined` (—Å—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
     - **isDecision**: `false`
     - **iconId**: `undefined`
  3. –°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ Firestore –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `timelines/{userId}` —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `addEventToTimeline`:
     - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–π–º–ª–∞–π–Ω–∞
     - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è UUID –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
     - –°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –º–∞—Å—Å–∏–≤—É `nodes`
     - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å `serverTimestamp()`
  4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ **React Portal** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ z-index
  5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–°–æ–±—ã—Ç–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω!"

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **React Portal**: –û–±–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `createPortal(modalContent, document.body)` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤–Ω–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å CSS stacking context –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (z-index: 9999).
- **–î–µ—Ç–µ–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è** (—Ç–æ–ª—å–∫–æ –≤ `SaveEventAsNoteButton`): –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `useEffect` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é:
  ```typescript
  useEffect(() => {
    if (showConfirm) {
      console.log('‚úÖ [DETECTOR] Modal window is NOW OPEN');
      console.log('‚úÖ [DETECTOR] Z-index should be: z-[9999]');
      // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ DOM –∏ computed styles
    }
  }, [showConfirm]);
  ```
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –û–±–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è (–∑–∞–º–µ—Ç–∫–∏/—Å–æ–±—ã—Ç–∏—è) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Promise —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –∑–∞–≥—Ä—É–∑–∫–∏ (disabled-—Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫, —Ç–µ–∫—Å—Ç "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ..." / "–°–æ–∑–¥–∞–Ω–∏–µ...").
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (–≤–æ–∑—Ä–∞—Å—Ç, –Ω–∞–∑–≤–∞–Ω–∏–µ) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Firestore.

### –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

- **NodeT** (`src/pages/timeline/types.ts`) ‚Äî —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- **AgeRange** (`src/types/notes.ts`) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –ø–µ—Ä–∏–æ–¥
- **AGE_RANGE_LABELS** (`src/types/notes.ts`) ‚Äî —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤
- **Sphere** (`src/pages/timeline/types.ts`) ‚Äî —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ (education, career, family –∏ —Ç.–¥.)

### Workflow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°–æ–±—ã—Ç–∏–µ ‚Üí –ó–∞–º–µ—Ç–∫–∞**:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–æ—Å—Ç—É–ø–∏–ª –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", 18 –ª–µ—Ç, —Å—Ñ–µ—Ä–∞ "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ")
2. –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–µ—Ç–∫–∏ –≤ —Ñ–æ—Ä–º–µ —Å–æ–±—ã—Ç–∏—è
3. –í–∏–¥–∏—Ç –ø—Ä–µ–≤—å—é —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ
5. –í —Ä–∞–∑–¥–µ–ª–µ "–ó–∞–º–µ—Ç–∫–∏" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ü–æ—Å—Ç—É–ø–∏–ª –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç" –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:
   ```
   **–í–æ–∑—Ä–∞—Å—Ç:** 18 –ª–µ—Ç
   **–ü–µ—Ä–∏–æ–¥:** –ü–æ–¥—Ä–æ—Å—Ç–∫–æ–≤–æ—Å—Ç—å (14-18 –ª–µ—Ç)
   **–°—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏:** –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
   **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:**
   [—Ç–µ–∫—Å—Ç –∏–∑ –ø–æ–ª—è "–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏" —Å–æ–±—ã—Ç–∏—è]
   ```

**–ó–∞–º–µ—Ç–∫–∞ ‚Üí –°–æ–±—ã—Ç–∏–µ**:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –∑–∞–º–µ—Ç–∫—É —Å —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è–º–∏ –æ –≤–∞–∂–Ω–æ–º –º–æ–º–µ–Ω—Ç–µ –∂–∏–∑–Ω–∏
2. –ö–ª–∏–∫–∞–µ—Ç "üìç –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω" –≤ footer –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
3. –í–≤–æ–¥–∏—Ç –≤–æ–∑—Ä–∞—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 22 –≥–æ–¥–∞) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ
4. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ
5. –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏–Ω–∏–∏ –∂–∏–∑–Ω–∏ —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∑–∞–º–µ—Ç–∫–∏ –≤ –ø–æ–ª–µ "–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏"
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ç–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å —Å—Ñ–µ—Ä—É –∂–∏–∑–Ω–∏, –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º—É, —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É —Ä–∞–∑–≤–∏—Ç–∏—è –∏ —Ç.–¥.

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞

- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (`setTimeout` –Ω–∞ 10 —Å–µ–∫—É–Ω–¥) —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –≤–µ—Ç–æ–∫.
- –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ Firestore –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ `removeUndefined`.
- –î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `timelines/{userId}` —Å `updatedAt`.
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:
  - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è –∏ –≤–µ—Ç–∫–∏, –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è `x`/`parentX`.

## –≠–∫—Å–ø–æ—Ä—Ç —Ç–∞–π–º–ª–∞–π–Ω–∞

- –í —à–∞–ø–∫–µ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏, —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ `–í—ã—Ö–æ–¥`, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–∫–æ–Ω–∫–∞ ¬´üì•¬ª –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ –∫–ª–∏–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –º–µ–Ω—é —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ `JSON`, `PNG` –∏ `PDF`.
- `JSON` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ `TimelineExportPayload` (—É–∑–ª—ã, –≤–µ—Ç–∫–∏, –¥–µ—Ç–∞–ª–∏ —Ä–æ–∂–¥–µ–Ω–∏—è, –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –§–æ—Ä–º–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –¥–∞–Ω–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É —Ñ–∞–π–ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –∏–ª–∏ –±—ç–∫–∞–ø–∞.
- `PNG` –∏ `PDF` —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω `src/pages/timeline/utils/exporters.ts`: SVG-–∫–æ–Ω—Ç–µ–Ω—Ç —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º –∏–Ω–ª–∞–π–Ω–∞—Ç—Å—è –≤ DataURL, –ø–æ—Å–ª–µ —á–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∫–∞–Ω–≤–∞—Å. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É.
- –î–ª—è PDF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è A4-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, –∞ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –Ω–∏–∂–Ω–∏–π –æ—Ç—Å—Ç—É–ø –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ ¬´–†–æ–∂–¥–µ–Ω–∏–µ¬ª –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∏—Ç–æ–≥–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.
- –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –ø–æ—ç—Ç–æ–º—É —é–∑–µ—Ä –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–ª–æ—Ç–Ω–æ –≤ –ª—é–±–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –º–∞—Å—à—Ç–∞–±, –≤—ã–±—Ä–∞–Ω–Ω–∞—è –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏—è –∏ –≤—Å–µ –≤–µ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π.
  - –í—å—é–ø–æ—Ä—Ç —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–º—É –≤–æ–∑—Ä–∞—Å—Ç—É (–∏–ª–∏ –ø–æ —Ä–æ–∂–¥–µ–Ω–∏—é, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç).

## –°—Ç–∏–ª–∏ –∏ –≤–∏–∑—É–∞–ª

- –°—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Å—Ç–µ–ª—å–Ω—É—é –ø–∞–ª–∏—Ç—Ä—É, —Å–æ–≤–ø–∞–¥–∞—é—â—É—é —Å `SPHERE_META`.
- –ü–æ–¥–ø–∏—Å–∏ –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤ –≤ –ø–∞–Ω–µ–ª–∏ ‚Äî —à—Ä–∏—Ñ—Ç `Georgia, serif`.
- –•–æ–ª—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω –Ω–∞ —à–∏—Ä–∏–Ω—É `4000px`, —á—Ç–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –±–æ–∫–æ–≤—ã—Ö –≤–µ—Ç–æ–∫.
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–∞–Ω–µ–ª–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º–∏ —Ñ–æ–Ω–∞–º–∏ –∏ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏.

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: —Å–æ–±—ã—Ç–∏—è –Ω–µ –¥–≤–∏–≥–∞—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –≤–µ—Ç–∫–æ–π

**–°–∏–º–ø—Ç–æ–º—ã**: –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –∏–¥—ë—Ç –≤–µ—Ç–∫–∞, –¥–æ—á–µ—Ä–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ —ç—Ç–æ–π –≤–µ—Ç–∫–µ ¬´–∑–∞–≤–∏—Å–∞—é—Ç –≤ –≤–æ–∑–¥—É—Ö–µ¬ª –∏ –Ω–µ —Å–ª–µ–¥—É—é—Ç –∑–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ–º.

**–°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**:
- `node.x` ‚Äî —Ç–µ–∫—É—â–∞—è X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è
- `node.parentX` ‚Äî X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ª–∏–Ω–∏–∏ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è)
- `edge.x` ‚Äî X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –ª–∏–Ω–∏–∏ –≤–µ—Ç–∫–∏
- Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∞–±—Å–æ–ª—é—Ç–Ω–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ–∑—Ä–∞—Å—Ç–æ–º —Å–æ–±—ã—Ç–∏—è

**–ü—Ä–∏—á–∏–Ω–∞ –±–∞–≥–∞**: –í —Ñ—É–Ω–∫—Ü–∏–∏ `handleNodeDragMove` (Timeline.tsx:673) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (`dragStartNodeX`) –≤–º–µ—Å—Ç–æ —Ç–µ–∫—É—â–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–æ–±—ã—Ç–∏—è:

```typescript
// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
const oldX = dragStartNodeX; // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ –Ω–∞—á–∞–ª–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è

// –ü–†–ê–í–ò–õ–¨–ù–û:
const oldX = node.x ?? LINE_X_POSITION; // –¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è
```

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
1. –ü–µ—Ä–≤–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏: –Ω–∞—Ö–æ–¥–∏—Ç –¥–µ—Ç–µ–π —Å `parentX === 2100`, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ `parentX === 2110`
2. –í—Ç–æ—Ä–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏: –∏—â–µ—Ç –¥–µ—Ç–µ–π —Å `parentX === 2100`, –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–∏–∫–æ–≥–æ (–æ–Ω–∏ —É–∂–µ 2110)
3. –î–µ—Ç–∏ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–µ–∫—É—â—É—é** –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É —Å–æ–±—ã—Ç–∏—è (`node.x`) –≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–π–¥—ë—Ç –≤—Å–µ—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–º–∫–æ–≤.

**–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** (Timeline.tsx:676-726):
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å `parentX === fromX`
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∏—Ö `parentX` –Ω–∞ `toX`
- –î–ª—è —Å–æ–±—ã—Ç–∏–π **–Ω–∞ –ª–∏–Ω–∏–∏** (`node.x === fromX`): –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –Ω–∞ `toX`
- –î–ª—è —Å–æ–±—ã—Ç–∏–π **—Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º** (`node.x !== fromX`): —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–º–µ—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `deltaX`
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–µ—Ç–∫–∏ –æ—Ç —ç—Ç–∏—Ö —Å–æ–±—ã—Ç–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞: –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –ø–µ—Ä–∏–æ–¥—ã —Å–∫—Ä—ã–≤–∞—é—Ç –≥—Ä–∞–Ω–∏—Ü—ã

**–°–∏–º–ø—Ç–æ–º—ã**: –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ö–æ–ª—å–±–µ—Ä–≥) –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏ –Ω–µ –≤–∏–¥–Ω—ã –∏ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã, —Ö–æ—Ç—è –ø–µ—Ä–∏–æ–¥—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è.

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–∏–æ–¥—ã —Å –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–º–∏—Å—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ (—Å—Ç–∞–¥–∏—è 3: 9-13 –ª–µ—Ç, —Å—Ç–∞–¥–∏—è 4: 13-17 –ª–µ—Ç, —Å—Ç–∞–¥–∏—è 5: 16-35 –ª–µ—Ç) —Ä–µ–Ω–¥–µ—Ä–∏–ª–∏—Å—å –≤ –æ–¥–Ω–æ–º —Ü–∏–∫–ª–µ map(). –ü—Ä–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª –ª–∏–Ω–∏—é –≥—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.

**–†–µ—à–µ–Ω–∏–µ**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ –¥–≤–∞ —ç—Ç–∞–ø–∞ –≤ `PeriodizationLayer.tsx`:

```typescript
// –≠—Ç–∞–ø 1: –í—Å–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ –ø–µ—Ä–∏–æ–¥–æ–≤
{periodization.periods.map((period, index) => (
  <rect key={`period-rect-${index}`} {...} />
))}

// –≠—Ç–∞–ø 2: –í—Å–µ –ª–∏–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü (–ø–æ–≤–µ—Ä—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤)
{periodization.periods.map((period, index) => (
  <g key={`period-boundary-${index}`}>
    <line {...} />
    <rect {...} /> {/* –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å */}
  </g>
))}
```

–¢–∞–∫–æ–π –ø–æ—Ä—è–¥–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –ª–∏–Ω–∏–∏ –≥—Ä–∞–Ω–∏—Ü —Ä–∏—Å—É—é—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤, –æ—Å—Ç–∞–≤–∞—è—Å—å –≤–∏–¥–∏–º—ã–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –¥–∞–∂–µ –ø—Ä–∏ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤.

### –ü—Ä–æ–±–ª–µ–º–∞: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥—Ä–∞–Ω–∏—Ü –ø–µ—Ä–∏–æ–¥–æ–≤

**–°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–µ—Ä–∏–æ–¥–æ–≤**: –•–æ–ª—Å—Ç —Ç–∞–π–º–ª–∞–π–Ω–∞ —Ä–∞—Å—Ç—ë—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (—Ä–æ–∂–¥–µ–Ω–∏–µ –≤–Ω–∏–∑—É, –±—É–¥—É—â–µ–µ –≤–≤–µ—Ä—Ö), —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–≤–µ—Ä—Å–∏–∏ Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.

**–†–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–π** (PeriodizationLayer.tsx:30-33):
```typescript
const startY = worldHeight - Math.min(period.endAge, ageMax) * YEAR_PX;
const endY = worldHeight - period.startAge * YEAR_PX;
const height = endY - startY;
```

- `startY` ‚Äî –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ (—Å—Ç–∞—Ä—à–∏–π –≤–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä–∏–æ–¥–∞)
- `endY` ‚Äî –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ (–º–ª–∞–¥—à–∏–π –≤–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä–∏–æ–¥–∞)
- –õ–∏–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü—ã —Ä–∏—Å—É–µ—Ç—Å—è –Ω–∞ `startY` (–º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –∏ —Å–ª–µ–¥—É—é—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º)

**–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `startY` –¥–ª—è –ª–∏–Ω–∏–π –≥—Ä–∞–Ω–∏—Ü, –∞ –Ω–µ `endY`, —á—Ç–æ–±—ã –ª–∏–Ω–∏—è —Ä–∏—Å–æ–≤–∞–ª–∞—Å—å –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏, –∞ –Ω–µ –Ω–∞ —Ä–æ–∂–¥–µ–Ω–∏–∏ –∏–ª–∏ –≤–Ω–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

## –†–∏—Å–∫–∏ –∏ –ø–ª–∞–Ω—ã –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ

- UI –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞; –ø—Ä–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏ –≤ –¥—Ä—É–≥—É—é –æ–±–æ–ª–æ—á–∫—É –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è `transform`.
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ–º–æ—â–∏ ‚Äî —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É/–∫–ª–∞–≤–∏—à—É.
- –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ `edges`/`parentX`) –ø—Ä–∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏.
- **–ü–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–∏**:
  - –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–º–æ–¥–∑–∏-–∏–∫–æ–Ω–∫—É (üë®‚Äçüè´) –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ –Ω–∞ PNG-–∏–∫–æ–Ω–∫—É 20√ó20px –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º UI.
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞ –≤ `data/periodizations.ts`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ Firestore –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
  - –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–µ—Ä–∏–æ–¥–∏–∑–∞—Ü–∏–π –Ω–∞ –æ–¥–Ω–æ–º —Ö–æ–ª—Å—Ç–µ.
- –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: —ç–∫—Å–ø–æ—Ä—Ç —Ç–∞–π–º–ª–∞–π–Ω–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ñ–µ—Ä–∞–º, –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ç–≤–ª–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–∏.
