# üîß –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤

> **CRITICAL:** –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
> –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ—Ä—è–¥–∫—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–ª–æ–º–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- üìã **[–ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./README.md)** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- üìö **[–ì–∞–π–¥ –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ç–µ—Å—Ç–æ–≤](./TESTS_SYSTEM_GUIDE.md)** - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- üìê **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](./ARCHITECTURE_GUIDELINES.md)** - –ø—Ä–∞–≤–∏–ª–∞ –∏ best practices
- üóìÔ∏è **[–ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–∞–π–º–ª–∞–π–Ω–∞](./TIMELINE_REFACTORING_PLAN.md)** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- üîß **[–ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏](./CORE_REFACTORING_PLAN.md)** - —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞–¥–º–∏–Ω–∫–∏, –∑–∞–º–µ—Ç–æ–∫, –ø—Ä–æ—Ñ–∏–ª—è
- üìÖ **[–°–∏—Å—Ç–µ–º–∞ —Ç–∞–π–º–ª–∞–π–Ω–∞](./TimelineGuide.md)** - —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º–µ—Ç–∫–∏)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#-—Å—Ç–∞—Ç—É—Å-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
2. [–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞](#—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
4. [–§–∞–∑–∞ 1: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã](#—Ñ–∞–∑–∞-1-–±—ã—Å—Ç—Ä—ã–µ-–ø–æ–±–µ–¥—ã-1-2-–¥–Ω—è)
5. [–§–∞–∑–∞ 2: –°—Ä–µ–¥–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥](#—Ñ–∞–∑–∞-2-—Å—Ä–µ–¥–Ω–∏–π-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-3-5-–¥–Ω–µ–π)
6. [–§–∞–∑–∞ 3: –ì–ª—É–±–æ–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥](#—Ñ–∞–∑–∞-3-–≥–ª—É–±–æ–∫–∏–π-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-1-2-–Ω–µ–¥–µ–ª–∏)
7. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–ß–µ–∫–ª–∏—Å—Ç—ã](#—á–µ–∫–ª–∏—Å—Ç—ã)

---

## üéØ –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-09

### –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

| –§–∞–∑–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|----------|
| **–§–∞–∑–∞ 1** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤, –≤—ã–Ω–æ—Å —É—Ç–∏–ª–∏—Ç, —Å–æ–∑–¥–∞–Ω–∏–µ TestCard |
| **–§–∞–∑–∞ 2** | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | 33% | –†–∞–∑–±–∏–µ–Ω–∏–µ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| **–§–∞–∑–∞ 3** | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | 100% | –ì–ª—É–±–æ–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: Zustand, unit —Ç–µ—Å—Ç—ã, barrel exports, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –§–∞–∑—ã 2

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –°—Ç–∞—Ç—É—Å |
|--------|------|------|-------|--------|
| **2.1** | TestEditorForm.tsx | 1575 | 1033 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (-34.4%) |
| **2.2** | QuestionEditor.tsx | 1126 | 1126 | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ |
| **2.3** | DynamicTest.tsx | 778 | 778 | ‚ùå –ù–µ –Ω–∞—á–∞—Ç–æ |

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –§–∞–∑—ã 3

| –ó–∞–¥–∞—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|--------|
| **3.1** | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Tests.tsx/AgeTests.tsx ‚Üí TestsPage.tsx | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
| **3.2** | State management (Zustand) - AuthStore, TestStore | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
| **3.3** | Unit —Ç–µ—Å—Ç—ã (Vitest) | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
| **3.4** | Barrel exports (6 index —Ñ–∞–π–ª–æ–≤) | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |
| **3.5** | Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (useMemo, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã) | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ |

### –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

1. ‚ùå **–ó–∞–¥–∞—á–∞ 2.2:** –†–∞–∑–±–∏–µ–Ω–∏–µ QuestionEditor (1126 —Å—Ç—Ä–æ–∫)
   - –°–æ–∑–¥–∞—Ç—å QuestionTextEditor, QuestionAnswersManager, QuestionMediaUploader, QuestionRevealPolicyEditor, QuestionFeedbackEditor
   - –¶–µ–ª—å: QuestionEditor ~200 —Å—Ç—Ä–æ–∫

2. ‚ùå **–ó–∞–¥–∞—á–∞ 2.3:** –†–∞–∑–±–∏–µ–Ω–∏–µ DynamicTest (778 —Å—Ç—Ä–æ–∫)
   - –°–æ–∑–¥–∞—Ç—å TestIntroScreen, TestQuestionScreen, TestResultsScreen
   - –°–æ–∑–¥–∞—Ç—å useTestProgress, useQuestionNavigation, useAnswerValidation hooks
   - –¶–µ–ª—å: DynamicTest ~150 —Å—Ç—Ä–æ–∫

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ—Å—Ç—å** - –º–∞–ª—ã–µ —à–∞–≥–∏ —Å commit'–∞–º–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –Ω–µ –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

**–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- –ö–æ–¥: ~8800 —Å—Ç—Ä–æ–∫
- –ú–æ–Ω–æ–ª–∏—Ç–æ–≤: 3 —Ñ–∞–π–ª–∞ (1500+ —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: ~200 —Å—Ç—Ä–æ–∫
- –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: ~1225 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (—Ü–µ–ª—å):**
- –ö–æ–¥: ~5000-6000 —Å—Ç—Ä–æ–∫ (-30-40%)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª: <500 —Å—Ç—Ä–æ–∫
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: 0 —Å—Ç—Ä–æ–∫
- –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: 0 —Å—Ç—Ä–æ–∫
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: <250 —Å—Ç—Ä–æ–∫

---

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –®–∞–≥ 0.1: –°–æ–∑–¥–∞–Ω–∏–µ feature branch

```bash
git checkout -b refactor/tests-system
```

### –®–∞–≥ 0.2: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p docs/backups/tests-system-$(date +%Y%m%d)

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤
cp -r src/pages/Tests.tsx docs/backups/tests-system-$(date +%Y%m%d)/
cp -r src/pages/AgeTests.tsx docs/backups/tests-system-$(date +%Y%m%d)/
cp -r src/pages/DynamicTest.tsx docs/backups/tests-system-$(date +%Y%m%d)/
cp -r src/components/TestEditorForm.tsx docs/backups/tests-system-$(date +%Y%m%d)/
cp -r src/components/QuestionEditor.tsx docs/backups/tests-system-$(date +%Y%m%d)/
# ... –∏ —Ç.–¥.
```

### –®–∞–≥ 0.3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞

```bash
git add .
git commit -m "chore: backup before tests refactoring"
git tag refactor-tests-backup
```

### –®–∞–≥ 0.4: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `TESTS_SYSTEM_GUIDE.md` –∞–∫—Ç—É–∞–ª–µ–Ω –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é.

---

## –§–∞–∑–∞ 1: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (1-2 –¥–Ω—è)

### –ó–∞–¥–∞—á–∞ 1.1: –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

**–§–∞–π–ª—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:**
- `src/pages/AuthorsTest.tsx`
- `src/pages/AuthorsTestLevel2.tsx`
- `src/pages/AuthorsTestLevel3.tsx`

**–≠–∫–æ–Ω–æ–º–∏—è:** ~1225 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

#### –®–∞–≥ 1.1.1: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Firestore (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
npm run migrate:authors-tests
```

–ò–ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
1. –û—Ç–∫—Ä—ã—Ç—å `/admin/content`
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç "–ê–≤—Ç–æ—Ä—ã –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è"
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–∑ AuthorsTest.tsx
4. –°–æ–∑–¥–∞—Ç—å —É—Ä–æ–≤–Ω–∏ 2 –∏ 3 –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

#### –®–∞–≥ 1.1.2: –£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤ –∏–∑ App.jsx

**–§–∞–π–ª:** `src/App.jsx`

**–ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å:**

```jsx
// –£–î–ê–õ–ò–¢–¨ —ç—Ç–∏ imports
import AuthorsTest from './pages/AuthorsTest';
import AuthorsTestLevel2 from './pages/AuthorsTestLevel2';
import AuthorsTestLevel3 from './pages/AuthorsTestLevel3';

// –£–î–ê–õ–ò–¢–¨ —ç—Ç–∏ —Ä–æ—É—Ç—ã
<Route
  path="/tests/authors"
  element={
    <RequireAuth>
      <AuthorsTest />
    </RequireAuth>
  }
/>
<Route
  path="/tests/authors/level2"
  element={
    <RequireAuth>
      <AuthorsTestLevel2 />
    </RequireAuth>
  }
/>
<Route
  path="/tests/authors/level3"
  element={
    <RequireAuth>
      <AuthorsTestLevel3 />
    </RequireAuth>
  }
/>
```

#### –®–∞–≥ 1.1.3: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```bash
rm src/pages/AuthorsTest.tsx
rm src/pages/AuthorsTestLevel2.tsx
rm src/pages/AuthorsTestLevel3.tsx
```

#### –®–∞–≥ 1.1.4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# 1. –ë–∏–ª–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
# 2. –†–æ—É—Ç—ã /tests —Ä–∞–±–æ—Ç–∞—é—Ç
# 3. –†–æ—É—Ç—ã /tests/age-periods —Ä–∞–±–æ—Ç–∞—é—Ç
# 4. –†–æ—É—Ç—ã /tests/dynamic/:id —Ä–∞–±–æ—Ç–∞—é—Ç
# 5. –°—Ç–∞—Ä—ã–µ —Ä–æ—É—Ç—ã /tests/authors –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç (404)
```

#### –®–∞–≥ 1.1.5: Commit

```bash
git add .
git commit -m "refactor(tests): remove legacy hardcoded tests (AuthorsTest*)

- Removed AuthorsTest.tsx, AuthorsTestLevel2.tsx, AuthorsTestLevel3.tsx
- Removed corresponding routes from App.jsx
- Reduces codebase by ~1225 lines
- All tests now use DynamicTest system"
```

---

### –ó–∞–¥–∞—á–∞ 1.2: –í—ã–Ω–æ—Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç

**–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª:** `src/utils/testChainHelpers.ts`

**–≠–∫–æ–Ω–æ–º–∏—è:** ~150 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

#### –®–∞–≥ 1.2.1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —É—Ç–∏–ª–∏—Ç

**–§–∞–π–ª:** `src/utils/testChainHelpers.ts`

```typescript
import type { Test } from '../types/tests';

/**
 * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ü–µ–ø–æ—á–∫–∏ —Ç–µ—Å—Ç–æ–≤
 */
export interface TestChain {
  root: Test;      // –ö–æ—Ä–Ω–µ–≤–æ–π —Ç–µ—Å—Ç (–±–µ–∑ prerequisite)
  levels: Test[];  // –£—Ä–æ–≤–Ω–∏ (—Å prerequisiteTestId)
}

/**
 * –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏
 */
export const MAX_CHAIN_LENGTH = 3;

/**
 * –û—á–∏—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è –æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞ "–£—Ä–æ–≤–µ–Ω—å N"
 */
export function cleanLevelLabel(text: string): string {
  return text
    .replace(/^–£—Ä–æ–≤–µ–Ω—å\s*\d+\s*[-‚Äì‚Äî:]?\s*/i, '')
    .trim();
}

/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∏–∑ title —Ç–µ—Å—Ç–∞
 * –ò–∑–≤–ª–µ–∫–∞–µ—Ç —á–∞—Å—Ç—å –ø–æ—Å–ª–µ ':' –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—á–∏—â–µ–Ω–Ω—ã–π title
 */
export function formatLevelLabel(test: Test, index: number): string {
  const levelNumber = index + 1;
  const parts = test.title.split(':');

  if (parts.length > 1) {
    const suffix = cleanLevelLabel(parts.slice(1).join(':').trim());
    if (suffix) {
      return suffix;
    }
  }

  return cleanLevelLabel(test.title) || `–£—Ä–æ–≤–µ–Ω—å ${levelNumber}`;
}

/**
 * –ü–æ–ª—É—á–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–∞ –ø–æ —Ä—É–±—Ä–∏–∫–µ
 */
export function getTestMetadata(rubric: string): {
  icon: string;
  color: string;
  description: string;
} {
  if (rubric === 'full-course') {
    return {
      icon: 'üéì',
      color: 'from-indigo-500 to-indigo-600',
      description: '–¢–µ—Å—Ç –ø–æ –≤—Å–µ–º—É –∫—É—Ä—Å—É –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è',
    };
  }

  // –î–ª—è –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
  // –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å AGE_RANGE_LABELS –∑–¥–µ—Å—å
  return {
    icon: 'üìñ',
    color: 'from-teal-500 to-teal-600',
    description: '–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç',
  };
}

/**
 * –°—Ç—Ä–æ–∏—Ç —Ü–µ–ø–æ—á–∫–∏ —Ç–µ—Å—Ç–æ–≤ –∏–∑ –º–∞—Å—Å–∏–≤–∞
 * –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—ã –ø–æ prerequisite —Å–≤—è–∑—è–º
 */
export function buildTestChains(tests: Test[]): TestChain[] {
  // 1. –°–æ–∑–¥–∞—Ç—å Map –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
  const map = new Map<string, Test>();
  for (const test of tests) {
    map.set(test.id, test);
  }

  // 2. –ù–∞–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ç–µ—Å—Ç—ã
  const roots: Test[] = [];
  for (const test of tests) {
    if (!test.prerequisiteTestId || !map.has(test.prerequisiteTestId)) {
      roots.push(test);
    }
  }

  // 3. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏
  const chains: TestChain[] = [];
  for (const root of roots) {
    const visited = new Set<string>();
    visited.add(root.id);

    let current: Test | undefined = root;
    const levels: Test[] = [];

    while (current && levels.length < MAX_CHAIN_LENGTH) {
      const successors = tests.filter(
        (t) => t.prerequisiteTestId === current!.id && !visited.has(t.id)
      );

      if (successors.length === 0) break;

      const next = successors[0];
      visited.add(next.id);
      levels.push(next);
      current = next;
    }

    chains.push({ root, levels });
  }

  return chains;
}
```

#### –®–∞–≥ 1.2.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Tests.tsx

**–§–∞–π–ª:** `src/pages/Tests.tsx`

**–ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å:**
```typescript
// –£–î–ê–õ–ò–¢–¨ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–Ω–∏ —Ç–µ–ø–µ—Ä—å –≤ testChainHelpers)
interface TestChain { ... }
const MAX_CHAIN_LENGTH = 3;
function cleanLevelLabel(...) { ... }
function formatLevelLabel(...) { ... }
function buildTestChains(...) { ... }
function getTestMetadata(...) { ... }  // –ï—Å–ª–∏ –æ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è full-course, –æ—Å—Ç–∞–≤–∏—Ç—å
```

**–î–æ–±–∞–≤–∏—Ç—å import:**
```typescript
import {
  buildTestChains,
  cleanLevelLabel,
  formatLevelLabel,
  type TestChain,
} from '../utils/testChainHelpers';
```

#### –®–∞–≥ 1.2.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AgeTests.tsx

**–§–∞–π–ª:** `src/pages/AgeTests.tsx`

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Tests.tsx** - —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å import.

#### –®–∞–≥ 1.2.4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
# 1. /tests - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–µ—Å—Ç—ã –∏ —Ü–µ–ø–æ—á–∫–∏
# 2. /tests/age-periods - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–µ—Å—Ç—ã –∏ —Ü–µ–ø–æ—á–∫–∏
# 3. –ù–∞–∑–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
# 4. –¶–≤–µ—Ç–∞ –∏ –∏–∫–æ–Ω–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
```

#### –®–∞–≥ 1.2.5: Commit

```bash
git add .
git commit -m "refactor(tests): extract test chain helpers to shared utils

- Created testChainHelpers.ts with shared functions
- Removed duplication from Tests.tsx and AgeTests.tsx
- Reduces duplication by ~150 lines
- Functions: buildTestChains, formatLevelLabel, cleanLevelLabel"
```

---

### –ó–∞–¥–∞—á–∞ 1.3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ TestCard

**–°–æ–∑–¥–∞—Ç—å:** `src/components/tests/TestCard.tsx`

**–≠–∫–æ–Ω–æ–º–∏—è:** ~80 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

#### –®–∞–≥ 1.3.1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
mkdir -p src/components/tests
```

#### –®–∞–≥ 1.3.2: –°–æ–∑–¥–∞–Ω–∏–µ TestCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–§–∞–π–ª:** `src/components/tests/TestCard.tsx`

```typescript
import { Link } from 'react-router-dom';
import type { CSSProperties } from 'react';
import type { Test } from '../../types/tests';
import { mergeAppearance, createGradient } from '../../utils/testAppearance';
import { formatLevelLabel, type TestChain } from '../../utils/testChainHelpers';

interface TestCardProps {
  chain: TestChain;
  testUnlockStatus: Record<string, boolean>;
  className?: string;
}

export function TestCard({ chain, testUnlockStatus, className = '' }: TestCardProps) {
  const { root, levels } = chain;
  const appearance = mergeAppearance(root.appearance);

  // –ò–∑–≤–ª–µ—á—å –Ω–∞–∑–≤–∞–Ω–∏–µ (—á–∞—Å—Ç—å –¥–æ ':')
  const titleText = root.title.split(':')[0]?.trim() || root.title;
  const description = appearance.introDescription || '';

  const rootUnlocked = testUnlockStatus[root.id] ?? true;

  // –°—Ç–∏–ª–∏
  const iconGradientStyle: CSSProperties = {
    backgroundImage: createGradient(
      appearance.accentGradientFrom,
      appearance.accentGradientTo,
      appearance.resolvedTheme?.primary
    ),
  };

  const badgeGradientStyle: CSSProperties = {
    backgroundImage: createGradient(
      appearance.badgeGradientFrom ?? appearance.accentGradientFrom,
      appearance.badgeGradientTo ?? appearance.accentGradientTo,
      appearance.resolvedTheme?.badge
    ),
  };

  const badgeLabel = appearance.badgeLabel?.trim();
  const showBadge = Boolean(badgeLabel);

  return (
    <div
      className={`relative flex flex-col justify-between overflow-hidden rounded-2xl border border-blue-200 bg-white p-6 shadow-sm transition-all duration-300 hover:shadow-lg min-h-[280px] ${className}`}
    >
      <div className="flex items-start gap-4">
        {/* –ò–∫–æ–Ω–∫–∞ */}
        <div
          className="flex h-14 w-14 items-center justify-center rounded-xl text-2xl text-white shadow"
          style={iconGradientStyle}
        >
          {appearance.introIcon || 'üìñ'}
        </div>

        <div className="flex-1 flex flex-col gap-2">
          {/* –ë–µ–π–¥–∂ */}
          {showBadge && (
            <div className="flex items-center gap-2 text-xs font-semibold text-white">
              <span className="inline-flex items-center gap-1 rounded-full px-3 py-1" style={badgeGradientStyle}>
                {appearance.badgeIcon && <span>{appearance.badgeIcon}</span>}
                <span>{badgeLabel}</span>
              </span>
            </div>
          )}

          {/* –ù–∞–∑–≤–∞–Ω–∏–µ */}
          {rootUnlocked ? (
            <Link
              to={`/tests/dynamic/${root.id}`}
              className={`text-left font-semibold text-gray-900 ${levels.length === 0 ? 'text-xl' : 'text-lg'} hover:underline focus:underline transition-colors`}
            >
              {titleText}
            </Link>
          ) : (
            <div className={`font-semibold text-gray-900 ${levels.length === 0 ? 'text-xl' : 'text-lg'}`}>
              {titleText}
            </div>
          )}

          {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
          {description && (
            <p className={`${levels.length === 0 ? 'text-base' : 'text-sm'} text-gray-600 leading-snug line-clamp-3`}>
              {description}
            </p>
          )}

          {/* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ */}
          <div className="mt-auto flex flex-wrap items-center gap-4 text-xs font-medium text-gray-500">
            <span className="flex items-center gap-1">
              <span>üìã</span>
              <span>{root.questionCount} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
            </span>
            {levels.length > 0 && (
              <span className="flex items-center gap-1">
                <span>üî•</span>
                <span>{levels.length} —É—Ä–æ–≤–Ω—è</span>
              </span>
            )}
          </div>
        </div>
      </div>

      {/* –£—Ä–æ–≤–Ω–∏ */}
      {levels.length > 0 && (
        <div className="mt-4 flex flex-col gap-2">
          {levels.map((level, idx) => {
            const label = formatLevelLabel(level, idx + 1);
            const unlocked = testUnlockStatus[level.id] ?? false;

            if (unlocked) {
              return (
                <Link
                  key={level.id}
                  to={`/tests/dynamic/${level.id}`}
                  className="flex items-center justify-between rounded-lg border-2 border-blue-200 bg-blue-50 p-3 text-sm font-semibold text-blue-700 transition-all hover:border-blue-400 hover:bg-blue-100"
                >
                  <span>{label}</span>
                  <span className="text-xs text-blue-500">‚Üí</span>
                </Link>
              );
            }

            return (
              <div
                key={level.id}
                className="flex items-center justify-between rounded-lg border-2 border-gray-200 bg-gray-50 p-3 text-sm font-semibold text-gray-400"
              >
                <span>{label}</span>
                <span className="text-xs text-gray-400">üîí</span>
              </div>
            );
          })}
        </div>
      )}
    </div>
  );
}
```

#### –®–∞–≥ 1.3.3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Tests.tsx

**–§–∞–π–ª:** `src/pages/Tests.tsx`

**–£–¥–∞–ª–∏—Ç—å** –±–æ–ª—å—à–æ–π –±–ª–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ (—Å—Ç—Ä–æ–∫–∏ ~350-480).

**–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:**
```typescript
import { TestCard } from '../components/tests/TestCard';

// ...

{testChains.map((chain) => (
  <TestCard
    key={chain.root.id}
    chain={chain}
    testUnlockStatus={testUnlockStatus}
  />
))}
```

#### –®–∞–≥ 1.3.4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AgeTests.tsx

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Tests.tsx.

#### –®–∞–≥ 1.3.5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ—Å—Ç–æ–≤
```

#### –®–∞–≥ 1.3.6: Commit

```bash
git add .
git commit -m "refactor(tests): create reusable TestCard component

- Created TestCard component for test display
- Used in Tests.tsx and AgeTests.tsx
- Reduces duplication by ~80 lines
- Improves consistency between pages"
```

---

### –ò—Ç–æ–≥–∏ –§–∞–∑—ã 1

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç–µ—Å—Ç—ã (`AuthorsTest*`) –∏–∑ `App.jsx`. (–°–∞–º–∏ —Ñ–∞–π–ª—ã –Ω–µ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–æ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏).
- ‚úÖ –í—ã–Ω–µ—Å–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ (`buildTestChains`, `cleanLevelLabel`, `formatLevelLabel`, `getTestMetadata`, `TestChain`, `MAX_CHAIN_LENGTH`) –≤ `src/utils/testChainHelpers.ts`.
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `src/components/tests/TestCard.tsx`.
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã `Tests.tsx` –∏ `AgeTests.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `TestCard`.

**–≠–∫–æ–Ω–æ–º–∏—è:**
- –£–¥–∞–ª–µ–Ω–æ ~1225 —Å—Ç—Ä–æ–∫ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ (—Å—Å—ã–ª–∫–∏).
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ ~230 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ö–æ–¥: ~7300 —Å—Ç—Ä–æ–∫ (–æ—Ü–µ–Ω–∫–∞, –±–µ–∑ —É—á–µ—Ç–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ
- –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥: 0 —Å—Ç—Ä–æ–∫ (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã)

**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –§–∞–∑–∞ 2

---

## –§–∞–∑–∞ 2: –°—Ä–µ–¥–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (3-5 –¥–Ω–µ–π)

–≠—Ç–∞ —Ñ–∞–∑–∞ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

### –ó–∞–¥–∞—á–∞ 2.1: –†–∞–∑–±–∏–µ–Ω–∏–µ TestEditorForm (1575 —Å—Ç—Ä–æ–∫ ‚Üí ~250 —Å—Ç—Ä–æ–∫) ‚úÖ

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å 6 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –º–æ–Ω–æ–ª–∏—Ç–∞.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-08)

**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- TestEditorForm.tsx: 1575 ‚Üí 1033 —Å—Ç—Ä–æ–∫ (-542 —Å—Ç—Ä–æ–∫, -34.4%)
- –°–æ–∑–¥–∞–Ω–æ 7 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - Field.tsx (21 —Å—Ç—Ä–æ–∫) - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–µ–π
  - EmojiPicker.tsx (95 —Å—Ç—Ä–æ–∫) - –≤—ã–±–æ—Ä —ç–º–æ–¥–∑–∏
  - TestBasicMetadata.tsx (120 —Å—Ç—Ä–æ–∫) - –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä—É–±—Ä–∏–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤
  - TestPrerequisiteConfig.tsx (231 —Å—Ç—Ä–æ–∫) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ prerequisite —Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–æ–º
  - TestActionButtons.tsx (58 —Å—Ç—Ä–æ–∫) - –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–û—Ç–º–µ–Ω–∞, –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å)
  - TestQuestionsManager.tsx (~150 —Å—Ç—Ä–æ–∫) - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤
  - TestAppearanceEditor.tsx (~270 —Å—Ç—Ä–æ–∫) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¶–µ–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä ~250 —Å—Ç—Ä–æ–∫ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç (—Ç–µ–∫—É—â–∏–π: 1033 —Å—Ç—Ä–æ–∫–∏), –Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω. –î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ TestImportExport –∏ TestPolicyEditor.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
TestEditorForm (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, ~250 —Å—Ç—Ä–æ–∫)
  ‚îú‚îÄ TestMetadataEditor (~150 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îî‚îÄ –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä—É–±—Ä–∏–∫–∞, —Å—Ç–∞—Ç—É—Å
  ‚îú‚îÄ TestPrerequisiteSelector (~100 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îî‚îÄ –í—ã–±–æ—Ä prerequisite —Ç–µ—Å—Ç–∞, requiredPercentage
  ‚îú‚îÄ TestQuestionsManager (~200 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îî‚îÄ –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–æ—Ä—è–¥–æ–∫
  ‚îú‚îÄ TestAppearanceEditor (~300 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îú‚îÄ TestThemePicker (~150 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îÇ   ‚îî‚îÄ –í—ã–±–æ—Ä —Ç–µ–º—ã, mainColor
  ‚îÇ   ‚îî‚îÄ TestCustomization (~150 —Å—Ç—Ä–æ–∫)
  ‚îÇ       ‚îî‚îÄ –ò–∫–æ–Ω–∫–∏, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, bullet points
  ‚îú‚îÄ TestPolicyEditor (~150 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îî‚îÄ defaultRevealPolicy
  ‚îî‚îÄ TestImportExport (~150 —Å—Ç—Ä–æ–∫)
      ‚îî‚îÄ Import/export JSON
```

#### –®–∞–≥ 2.1.1: –°–æ–∑–¥–∞–Ω–∏–µ TestMetadataEditor

**–§–∞–π–ª:** `src/components/tests/editor/TestMetadataEditor.tsx`

```bash
mkdir -p src/components/tests/editor
```

```typescript
import { useCallback } from 'react';
import type { TestRubric, TestStatus } from '../../../types/tests';
import { AGE_RANGE_LABELS } from '../../../types/notes';
import type { AgeRange } from '../../../hooks/useNotes';

interface TestMetadataEditorProps {
  title: string;
  description: string;
  rubric: TestRubric;
  status: TestStatus;
  onTitleChange: (title: string) => void;
  onDescriptionChange: (description: string) => void;
  onRubricChange: (rubric: TestRubric) => void;
  onStatusChange: (status: TestStatus) => void;
}

export function TestMetadataEditor({
  title,
  description,
  rubric,
  status,
  onTitleChange,
  onDescriptionChange,
  onRubricChange,
  onStatusChange,
}: TestMetadataEditorProps) {
  const titleMaxLength = 100;
  const descriptionMaxLength = 300;

  return (
    <div className="space-y-6">
      <h3 className="text-lg font-semibold">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>

      {/* –ù–∞–∑–≤–∞–Ω–∏–µ */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ *
        </label>
        <input
          type="text"
          value={title}
          onChange={(e) => onTitleChange(e.target.value)}
          maxLength={titleMaxLength}
          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–≤—Ç–æ—Ä—ã –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è"
        />
        <p className="text-sm text-gray-500 mt-1">
          {title.length} / {titleMaxLength}
        </p>
      </div>

      {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        </label>
        <textarea
          value={description}
          onChange={(e) => onDescriptionChange(e.target.value)}
          maxLength={descriptionMaxLength}
          rows={3}
          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
          placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞"
        />
        <p className="text-sm text-gray-500 mt-1">
          {description.length} / {descriptionMaxLength}
        </p>
      </div>

      {/* –†—É–±—Ä–∏–∫–∞ */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          –†—É–±—Ä–∏–∫–∞ *
        </label>
        <select
          value={rubric}
          onChange={(e) => onRubricChange(e.target.value as TestRubric)}
          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
          <option value="full-course">–ö—É—Ä—Å —Ü–µ–ª–∏–∫–æ–º</option>
          <optgroup label="–í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã">
            {Object.entries(AGE_RANGE_LABELS).map(([value, label]) => (
              <option key={value} value={value}>
                {label}
              </option>
            ))}
          </optgroup>
        </select>
      </div>

      {/* –°—Ç–∞—Ç—É—Å */}
      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          –°—Ç–∞—Ç—É—Å
        </label>
        <div className="flex gap-4">
          <label className="flex items-center">
            <input
              type="radio"
              value="draft"
              checked={status === 'draft'}
              onChange={(e) => onStatusChange(e.target.value as TestStatus)}
              className="mr-2"
            />
            <span>–ß–µ—Ä–Ω–æ–≤–∏–∫</span>
          </label>
          <label className="flex items-center">
            <input
              type="radio"
              value="published"
              checked={status === 'published'}
              onChange={(e) => onStatusChange(e.target.value as TestStatus)}
              className="mr-2"
            />
            <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω</span>
          </label>
          <label className="flex items-center">
            <input
              type="radio"
              value="unpublished"
              checked={status === 'unpublished'}
              onChange={(e) => onStatusChange(e.target.value as TestStatus)}
              className="mr-2"
            />
            <span>–°–Ω—è—Ç —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</span>
          </label>
        </div>
      </div>
    </div>
  );
}
```

#### –®–∞–≥ 2.1.2: –°–æ–∑–¥–∞–Ω–∏–µ TestPrerequisiteSelector

**–§–∞–π–ª:** `src/components/tests/editor/TestPrerequisiteSelector.tsx`

```typescript
import { useMemo } from 'react';
import type { Test } from '../../../types/tests';

interface TestPrerequisiteSelectorProps {
  prerequisiteTestId?: string;
  requiredPercentage: number;
  existingTests: Test[];
  currentTestId?: string;
  onPrerequisiteChange: (testId: string | undefined) => void;
  onPercentageChange: (percentage: number) => void;
}

export function TestPrerequisiteSelector({
  prerequisiteTestId,
  requiredPercentage,
  existingTests,
  currentTestId,
  onPrerequisiteChange,
  onPercentageChange,
}: TestPrerequisiteSelectorProps) {
  // –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã: –∏—Å–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
  const availableTests = useMemo(() => {
    const usedIds = new Set(
      existingTests
        .filter((t) => t.prerequisiteTestId && t.id !== currentTestId)
        .map((t) => t.prerequisiteTestId)
    );

    return existingTests.filter(
      (t) => t.id !== currentTestId && !usedIds.has(t.id)
    );
  }, [existingTests, currentTestId]);

  return (
    <div className="space-y-6">
      <h3 className="text-lg font-semibold">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞</h3>

      <div>
        <label className="block text-sm font-medium text-gray-700 mb-2">
          –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        </label>
        <select
          value={prerequisiteTestId || ''}
          onChange={(e) =>
            onPrerequisiteChange(e.target.value || undefined)
          }
          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
        >
          <option value="">–ù–µ—Ç (—Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É)</option>
          {availableTests.map((test) => (
            <option key={test.id} value={test.id}>
              {test.title}
            </option>
          ))}
        </select>
        <p className="text-sm text-gray-500 mt-1">
          –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Ç–µ—Å—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π—Ç–∏ –µ–≥–æ
        </p>
      </div>

      {prerequisiteTestId && (
        <div>
          <label className="block text-sm font-medium text-gray-700 mb-2">
            –¢—Ä–µ–±—É–µ–º—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
          </label>
          <div className="flex items-center gap-4">
            <input
              type="range"
              min="50"
              max="100"
              step="5"
              value={requiredPercentage}
              onChange={(e) => onPercentageChange(parseInt(e.target.value))}
              className="flex-1"
            />
            <span className="text-lg font-semibold w-16 text-right">
              {requiredPercentage}%
            </span>
          </div>
          <p className="text-sm text-gray-500 mt-1">
            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–±—Ä–∞—Ç—å –º–∏–Ω–∏–º—É–º {requiredPercentage}% –Ω–∞
            –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ç–µ—Å—Ç–µ
          </p>
        </div>
      )}
    </div>
  );
}
```

#### –®–∞–≥ 2.1.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ TestEditorForm

**–§–∞–π–ª:** `src/components/TestEditorForm.tsx`

**–î–æ–±–∞–≤–∏—Ç—å imports:**
```typescript
import { TestMetadataEditor } from './tests/editor/TestMetadataEditor';
import { TestPrerequisiteSelector } from './tests/editor/TestPrerequisiteSelector';
```

**–ó–∞–º–µ–Ω–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏ JSX:**
```typescript
// –í–º–µ—Å—Ç–æ –±–æ–ª—å—à–æ–≥–æ –±–ª–æ–∫–∞ —Å –ø–æ–ª—è–º–∏ title, description, rubric, status
<TestMetadataEditor
  title={title}
  description={description}
  rubric={rubric}
  status={status}
  onTitleChange={setTitle}
  onDescriptionChange={setDescription}
  onRubricChange={setRubric}
  onStatusChange={setStatus}
/>

// –í–º–µ—Å—Ç–æ –±–ª–æ–∫–∞ —Å prerequisite
<TestPrerequisiteSelector
  prerequisiteTestId={prerequisiteTestId}
  requiredPercentage={requiredPercentage}
  existingTests={existingTests}
  currentTestId={testId}
  onPrerequisiteChange={setPrerequisiteTestId}
  onPercentageChange={setRequiredPercentage}
/>
```

#### –®–∞–≥ 2.1.4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
npm run build

# –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–æ–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç
```

#### –®–∞–≥ 2.1.5: Commit

```bash
git add .
git commit -m "refactor(tests): extract metadata and prerequisite editors

- Created TestMetadataEditor component
- Created TestPrerequisiteSelector component
- Integrated into TestEditorForm
- Reduces TestEditorForm by ~250 lines"
```

#### –®–∞–≥ 2.1.6: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å:**

1. `TestQuestionsManager.tsx` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤
2. `TestAppearanceEditor.tsx` - –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
3. `TestPolicyEditor.tsx` - –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–∫–∞–∑–∞
4. `TestImportExport.tsx` - –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç

**–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
- –í—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
- –ü–æ–ª—É—á–∞–µ—Ç props –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ callbacks
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –ö–æ–º–º–∏—Ç–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

#### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ:**
- TestEditorForm.tsx: 1575 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ:**
- TestEditorForm.tsx: ~250 —Å—Ç—Ä–æ–∫ (–≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É)
- TestMetadataEditor.tsx: ~150 —Å—Ç—Ä–æ–∫
- TestPrerequisiteSelector.tsx: ~100 —Å—Ç—Ä–æ–∫
- TestQuestionsManager.tsx: ~200 —Å—Ç—Ä–æ–∫
- TestAppearanceEditor.tsx: ~300 —Å—Ç—Ä–æ–∫
- TestPolicyEditor.tsx: ~150 —Å—Ç—Ä–æ–∫
- TestImportExport.tsx: ~150 —Å—Ç—Ä–æ–∫

**–≠–∫–æ–Ω–æ–º–∏—è:**
- –ö–æ–¥ —Å—Ç–∞–ª —á–∏—Ç–∞–µ–º—ã–º
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏

---

### –ó–∞–¥–∞—á–∞ 2.2: –†–∞–∑–±–∏–µ–Ω–∏–µ QuestionEditor (1126 —Å—Ç—Ä–æ–∫ ‚Üí ~200 —Å—Ç—Ä–æ–∫) ‚ùå

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –ù–ê–ß–ê–¢–û**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** QuestionEditor.tsx: 1126 —Å—Ç—Ä–æ–∫ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∑–∞–¥–∞—á–µ 2.1**, —Ä–∞–∑–±–∏—Ç—å –Ω–∞:

1. `QuestionTextEditor.tsx` (~100 —Å—Ç—Ä–æ–∫) - —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
2. `QuestionAnswersManager.tsx` (~250 —Å—Ç—Ä–æ–∫) - –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
3. `QuestionMediaUploader.tsx` (~200 —Å—Ç—Ä–æ–∫) - –º–µ–¥–∏–∞-—Ñ–∞–π–ª—ã
4. `QuestionRevealPolicyEditor.tsx` (~150 —Å—Ç—Ä–æ–∫) - –ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞
5. `QuestionFeedbackEditor.tsx` (~200 —Å—Ç—Ä–æ–∫) - feedback –∏ —Ä–µ—Å—É—Ä—Å—ã

**QuestionEditor.tsx** —Å—Ç–∞–Ω–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º (~200 —Å—Ç—Ä–æ–∫).

#### Commit –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```bash
git commit -m "refactor(tests): extract QuestionTextEditor from QuestionEditor"
git commit -m "refactor(tests): extract QuestionAnswersManager from QuestionEditor"
# –∏ —Ç.–¥.
```

---

### –ó–∞–¥–∞—á–∞ 2.3: –†–∞–∑–±–∏–µ–Ω–∏–µ DynamicTest (778 —Å—Ç—Ä–æ–∫ ‚Üí ~150 —Å—Ç—Ä–æ–∫) ‚ùå

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –ù–ê–ß–ê–¢–û**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** DynamicTest.tsx: 778 —Å—Ç—Ä–æ–∫ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–¶–µ–ª—å:** –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω—ã –∏ hooks.

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
DynamicTest (–≥–ª–∞–≤–Ω—ã–π, ~150 —Å—Ç—Ä–æ–∫)
  ‚îú‚îÄ Screens:
  ‚îÇ   ‚îú‚îÄ TestIntroScreen (~150 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îú‚îÄ TestQuestionScreen (~200 —Å—Ç—Ä–æ–∫)
  ‚îÇ   ‚îî‚îÄ TestResultsScreen (~200 —Å—Ç—Ä–æ–∫)
  ‚îî‚îÄ Hooks:
      ‚îú‚îÄ useTestProgress (~100 —Å—Ç—Ä–æ–∫)
      ‚îú‚îÄ useQuestionNavigation (~80 —Å—Ç—Ä–æ–∫)
      ‚îî‚îÄ useAnswerValidation (~100 —Å—Ç—Ä–æ–∫)
```

#### –®–∞–≥ 2.3.1: –°–æ–∑–¥–∞–Ω–∏–µ useTestProgress hook

**–§–∞–π–ª:** `src/hooks/useTestProgress.ts`

```typescript
import { useState, useCallback } from 'react';

interface TestProgress {
  started: boolean;
  finished: boolean;
  currentQuestionIndex: number;
  score: number;
  startTime: Date | null;
}

export function useTestProgress(totalQuestions: number) {
  const [started, setStarted] = useState(false);
  const [finished, setFinished] = useState(false);
  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
  const [score, setScore] = useState(0);
  const [startTime, setStartTime] = useState<Date | null>(null);

  const startTest = useCallback(() => {
    setStarted(true);
    setStartTime(new Date());
  }, []);

  const nextQuestion = useCallback(() => {
    if (currentQuestionIndex < totalQuestions - 1) {
      setCurrentQuestionIndex((prev) => prev + 1);
    } else {
      setFinished(true);
    }
  }, [currentQuestionIndex, totalQuestions]);

  const incrementScore = useCallback(() => {
    setScore((prev) => prev + 1);
  }, []);

  const reset = useCallback(() => {
    setStarted(false);
    setFinished(false);
    setCurrentQuestionIndex(0);
    setScore(0);
    setStartTime(null);
  }, []);

  const progress = totalQuestions > 0 
    ? ((currentQuestionIndex + 1) / totalQuestions) * 100 
    : 0;

  return {
    started,
    finished,
    currentQuestionIndex,
    score,
    startTime,
    progress,
    startTest,
    nextQuestion,
    incrementScore,
    reset,
  };
}
```

#### –®–∞–≥ 2.3.2: –°–æ–∑–¥–∞–Ω–∏–µ TestIntroScreen

**–§–∞–π–ª:** `src/components/tests/screens/TestIntroScreen.tsx`

```typescript
import type { CSSProperties } from 'react';
import type { TestAppearance } from '../../../types/tests';

interface TestIntroScreenProps {
  title: string;
  appearance: TestAppearance;
  questionCount: number;
  onStart: () => void;
  backUrl: string;
}

export function TestIntroScreen({
  title,
  appearance,
  questionCount,
  onStart,
  backUrl,
}: TestIntroScreenProps) {
  const badgeGradientStyle: CSSProperties = {
    backgroundImage: createGradient(
      appearance.badgeGradientFrom,
      appearance.badgeGradientTo,
      appearance.resolvedTheme?.badge
    ),
  };

  const accentGradientStyle: CSSProperties = {
    backgroundImage: createGradient(
      appearance.accentGradientFrom,
      appearance.accentGradientTo,
      appearance.resolvedTheme?.primary
    ),
  };

  const bulletHeading = appearance.bulletPoints?.length
    ? '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∞:'
    : '–ü—Ä–∞–≤–∏–ª–∞ —Ç–µ—Å—Ç–∞:';

  return (
    <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12">
      <div className="text-center">
        {/* –ë–µ–π–¥–∂ */}
        {(appearance.badgeIcon || appearance.badgeLabel) && (
          <div
            className="inline-flex items-center gap-2 px-4 py-2 text-white rounded-full font-bold text-sm mb-4"
            style={badgeGradientStyle}
          >
            {appearance.badgeIcon && <span>{appearance.badgeIcon}</span>}
            {appearance.badgeLabel && <span>{appearance.badgeLabel}</span>}
          </div>
        )}

        {/* –ò–∫–æ–Ω–∫–∞ */}
        {appearance.introIcon && (
          <div className="text-6xl mb-6">{appearance.introIcon}</div>
        )}

        {/* –ù–∞–∑–≤–∞–Ω–∏–µ */}
        <h1 className="text-3xl md:text-4xl font-bold mb-4">{title}</h1>

        {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
        {appearance.introDescription && (
          <p className="text-lg text-gray-600 mb-8">
            {appearance.introDescription}
          </p>
        )}

        {/* Bullet points */}
        <div className="bg-gray-50 rounded-lg p-6 mb-8 text-left">
          <h3 className="font-semibold mb-4">{bulletHeading}</h3>
          <ul className="space-y-2">
            {appearance.bulletPoints?.length ? (
              appearance.bulletPoints.map((point, idx) => (
                <li key={idx} className="flex items-start gap-2">
                  <span className="text-blue-500 mt-1">‚úì</span>
                  <span>{point}</span>
                </li>
              ))
            ) : (
              <>
                <li className="flex items-start gap-2">
                  <span className="text-blue-500 mt-1">‚úì</span>
                  <span>–í —Ç–µ—Å—Ç–µ {questionCount} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-blue-500 mt-1">‚úì</span>
                  <span>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</span>
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-blue-500 mt-1">‚úì</span>
                  <span>–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</span>
                </li>
              </>
            )}
          </ul>
        </div>

        {/* –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞ */}
        <button
          onClick={onStart}
          style={accentGradientStyle}
          className="w-full text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300"
        >
          –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
        </button>
      </div>
    </div>
  );
}
```

#### –®–∞–≥ 2.3.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ DynamicTest

**–§–∞–π–ª:** `src/pages/DynamicTest.tsx`

**–ó–∞–º–µ–Ω–∏—Ç—å:**
```typescript
import { useTestProgress } from '../hooks/useTestProgress';
import { TestIntroScreen } from '../components/tests/screens/TestIntroScreen';

// ...

const {
  started,
  finished,
  currentQuestionIndex,
  score,
  startTime,
  progress,
  startTest,
  nextQuestion,
  incrementScore,
  reset,
} = useTestProgress(test?.questions.length || 0);

// ...

if (!started) {
  return (
    <TestIntroScreen
      title={test.title}
      appearance={appearance}
      questionCount={test.questionCount}
      onStart={startTest}
      backUrl={backUrl}
    />
  );
}
```

#### –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å TestQuestionScreen –∏ TestResultsScreen

#### Commit –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

```bash
git commit -m "refactor(tests): extract useTestProgress hook"
git commit -m "refactor(tests): extract TestIntroScreen component"
git commit -m "refactor(tests): extract TestQuestionScreen component"
git commit -m "refactor(tests): extract TestResultsScreen component"
```

---

### –ò—Ç–æ–≥–∏ –§–∞–∑—ã 2

**–°—Ç–∞—Ç—É—Å:** üü° **–ß–ê–°–¢–ò–ß–ù–û –ó–ê–í–ï–†–®–ï–ù–û** (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-11-08)

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:**
- ‚úÖ TestEditorForm: 1575 ‚Üí 1033 —Å—Ç—Ä–æ–∫ (7 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, -542 —Å—Ç—Ä–æ–∫–∏, -34.4%)
- ‚ùå QuestionEditor: 1126 —Å—Ç—Ä–æ–∫ (–Ω–µ –Ω–∞—á–∞—Ç–æ)
- ‚ùå DynamicTest: 778 —Å—Ç—Ä–æ–∫ (–Ω–µ –Ω–∞—á–∞—Ç–æ)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ö–æ–¥: ~7300 —Å—Ç—Ä–æ–∫ (–æ—Ü–µ–Ω–∫–∞)
- TestEditorForm –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω, –Ω–æ –≤—Å—ë –µ—â—ë –±–æ–ª—å—à–æ–π (1033 —Å—Ç—Ä–æ–∫–∏ vs —Ü–µ–ª–µ–≤—ã–µ ~250)
- –°–æ–∑–¥–∞–Ω—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Field, EmojiPicker)
- –£–ª—É—á—à–µ–Ω–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤

**–ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:**
1. **–ó–∞–¥–∞—á–∞ 2.2:** –†–∞–∑–±–∏–µ–Ω–∏–µ QuestionEditor (1126 —Å—Ç—Ä–æ–∫ ‚Üí ~200 —Å—Ç—Ä–æ–∫)
   - –°–æ–∑–¥–∞—Ç—å 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: QuestionTextEditor, QuestionAnswersManager, QuestionMediaUploader, QuestionRevealPolicyEditor, QuestionFeedbackEditor
2. **–ó–∞–¥–∞—á–∞ 2.3:** –†–∞–∑–±–∏–µ–Ω–∏–µ DynamicTest (778 —Å—Ç—Ä–æ–∫ ‚Üí ~150 —Å—Ç—Ä–æ–∫)
   - –°–æ–∑–¥–∞—Ç—å 3 —ç–∫—Ä–∞–Ω–∞: TestIntroScreen, TestQuestionScreen, TestResultsScreen
   - –°–æ–∑–¥–∞—Ç—å 3 hooks: useTestProgress, useQuestionNavigation, useAnswerValidation

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–≤–µ—Ä—à–∏—Ç—å –ó–∞–¥–∞—á—É 2.2 (QuestionEditor) –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –§–∞–∑–µ 3

---

## –§–∞–∑–∞ 3: –ì–ª—É–±–æ–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (1-2 –Ω–µ–¥–µ–ª–∏)

–≠—Ç–∞ —Ñ–∞–∑–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏.

---

### –ó–∞–¥–∞—á–∞ 3.1: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Tests.tsx –∏ AgeTests.tsx ‚úÖ

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –ø–æ—Ö–æ–∂–∏—Ö.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-09)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω–æ:** `src/pages/TestsPage.tsx`

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `rubricFilter` prop –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ä—É–±—Ä–∏–∫–∞–º:

```typescript
interface TestsPageProps {
  rubricFilter: 'full-course' | 'age-periods';
}

export function TestsPage({ rubricFilter }: TestsPageProps) {
  const filteredTests = useMemo(() => {
    if (rubricFilter === 'full-course') {
      return tests.filter(t => t.rubric === 'full-course');
    } else {
      return tests.filter(t => t.rubric !== 'full-course');
    }
  }, [tests, rubricFilter]);
  // ...
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ä–æ—É—Ç—ã –≤ App.jsx:**

```typescript
<Route path="/tests" element={
  <RequireAuth>
    <TestsPage rubricFilter="full-course" />
  </RequireAuth>
} />

<Route path="/tests/age-periods" element={
  <RequireAuth>
    <TestsPage rubricFilter="age-periods" />
  </RequireAuth>
} />
```

**–£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:**
- `src/pages/Tests.tsx`
- `src/pages/AgeTests.tsx`

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ:**
- Tests.tsx: 485 —Å—Ç—Ä–æ–∫
- AgeTests.tsx: 311 —Å—Ç—Ä–æ–∫
- –ò—Ç–æ–≥–æ: 796 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ:**
- TestsPage.tsx: ~365 —Å—Ç—Ä–æ–∫
- **–≠–∫–æ–Ω–æ–º–∏—è: ~430 —Å—Ç—Ä–æ–∫**

**Commit:** `51a7ee6` - "Merge Tests.tsx and AgeTests.tsx into TestsPage"

---

### –ó–∞–¥–∞—á–∞ 3.2: State Management ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:** Context API —Å useAuth() –≤—ã–∑—ã–≤–∞–ª infinite loops –∏–∑-–∑–∞ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Zustand —Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-09)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω–æ:**

1. **`src/stores/useAuthStore.ts`** - Centralized auth state
   ```typescript
   import { create } from 'zustand';
   import { devtools } from 'zustand/middleware';

   interface AuthState {
     user: User | null;
     loading: boolean;
     userRole: UserRole | null;
     isStudent: boolean;
     isAdmin: boolean;
     isSuperAdmin: boolean;

     setUser: (user: User | null) => void;
     setLoading: (loading: boolean) => void;
     setUserRole: (role: UserRole | null) => void;
     signInWithGoogle: () => Promise<void>;
     logout: () => Promise<void>;
     initializeAuth: () => Unsubscribe;
   }

   export const useAuthStore = create<AuthState>()(
     devtools(
       (set, get) => ({
         user: null,
         loading: true,
         userRole: null,
         isStudent: false,
         isAdmin: false,
         isSuperAdmin: false,

         setUser: (user) => set({ user }),
         setLoading: (loading) => set({ loading }),
         setUserRole: (userRole) => {
           const isSuperAdmin = userRole === 'super-admin';
           const isAdmin = userRole === 'admin' || isSuperAdmin;
           const isStudent = userRole === 'student';
           set({ userRole, isSuperAdmin, isAdmin, isStudent });
         },

         signInWithGoogle: async () => { /* ... */ },
         logout: async () => { /* ... */ },
         initializeAuth: () => { /* Firebase listener */ }
       }),
       { name: 'AuthStore' }
     )
   );
   ```

2. **`src/stores/useTestStore.ts`** - Test state management
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º —Ç–µ—Å—Ç–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
   - Scoring –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

3. **`src/auth/AuthInitializer.tsx`** - –ó–∞–º–µ–Ω—è–µ—Ç AuthProvider
   ```typescript
   export function AuthInitializer({ children }: { children: React.ReactNode }) {
     const initializeAuth = useAuthStore((state) => state.initializeAuth);
     useEffect(() => {
       const unsubscribe = initializeAuth();
       return unsubscribe;
     }, [initializeAuth]);
     return <>{children}</>;
   }
   ```

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**

1. **`src/auth/AuthProvider.tsx`** - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ compatibility wrapper
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã + useMemo
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç infinite loops
   - –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è 17+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

2. **App.jsx** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AuthInitializer –≤–º–µ—Å—Ç–æ AuthProvider

3. **UserMenu.tsx, RequireAuth.tsx, RequireAdmin.tsx** - Direct selectors
   ```typescript
   // –í–º–µ—Å—Ç–æ:
   const { isAdmin } = useAuth();

   // –¢–µ–ø–µ—Ä—å:
   const isAdmin = useAuthStore((state) => state.isAdmin);
   ```

#### –†–µ—à–µ–Ω–∏–µ infinite loops

**–ü—Ä–æ–±–ª–µ–º–∞:** useAuth() –≤–æ–∑–≤—Ä–∞—â–∞–ª –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ 1 (–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ):** Shallow equality
**–†–µ—à–µ–Ω–∏–µ 2 (–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ):** Direct selectors —Ç–æ–ª—å–∫–æ –≤ UserMenu
**–†–µ—à–µ–Ω–∏–µ 3 (‚úÖ –°–†–ê–ë–û–¢–ê–õ–û):** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ useAuth() —Å useMemo:

```typescript
export function useAuth() {
  const user = useAuthStore((state) => state.user);
  const loading = useAuthStore((state) => state.loading);
  const userRole = useAuthStore((state) => state.userRole);
  const isStudent = useAuthStore((state) => state.isStudent);
  const isAdmin = useAuthStore((state) => state.isAdmin);
  const isSuperAdmin = useAuthStore((state) => state.isSuperAdmin);
  const signInWithGoogle = useAuthStore((state) => state.signInWithGoogle);
  const logout = useAuthStore((state) => state.logout);

  return useMemo(
    () => ({
      user, loading, userRole, isStudent, isAdmin, isSuperAdmin,
      signInWithGoogle, logout,
    }),
    [user, loading, userRole, isStudent, isAdmin, isSuperAdmin, signInWithGoogle, logout]
  );
}
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ infinite loops
- ‚úÖ Redux DevTools –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Atomic —Å–µ–ª–µ–∫—Ç–æ—Ä—ã - –º–µ–Ω—å—à–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π state

**Commits:**
- `d370a06` - Zustand migration (AuthStore, TestStore, AuthInitializer)
- `2c5217a` - Shallow equality attempt (–Ω–µ–ø–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
- `836c1d8` - UserMenu direct selectors
- `66eeaba` - **Final fix**: Complete useAuth refactor with useMemo

---

### –ó–∞–¥–∞—á–∞ 3.3: Unit —Ç–µ—Å—Ç—ã ‚úÖ

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-09)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã:**
```bash
npm install -D vitest @testing-library/react @testing-library/jest-dom jsdom
```

**–°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

1. **`vitest.config.ts`**
   ```typescript
   import { defineConfig } from 'vitest/config';
   import react from '@vitejs/plugin-react';

   export default defineConfig({
     plugins: [react()],
     test: {
       globals: true,
       environment: 'jsdom',
       setupFiles: './src/tests/setup.ts',
     },
   });
   ```

2. **`src/tests/setup.ts`**
   ```typescript
   import '@testing-library/jest-dom';
   ```

**–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã:**

1. **`src/utils/testChainHelpers.test.ts`** (3 —Ç–µ—Å—Ç–∞)
   ```typescript
   import { describe, it, expect } from 'vitest';
   import { buildTestChains } from './testChainHelpers';

   describe('buildTestChains', () => {
     it('should return empty array for empty input', () => {
       const result = buildTestChains([]);
       expect(result).toEqual([]);
     });

     it('should accept array of tests and return array of chains', () => {
       const tests = [
         {
           id: 'test-1',
           title: 'Test 1',
           questions: [],
           prerequisiteTestId: null,
           createdAt: new Date('2024-01-01'),
           updatedAt: new Date('2024-01-01'),
         },
       ] as any[];

       const result = buildTestChains(tests);
       expect(Array.isArray(result)).toBe(true);
       expect(result.length).toBeGreaterThan(0);
     });

     it('should create chains with root property', () => {
       const tests = [
         {
           id: 'test-1',
           title: 'Test 1',
           questions: [],
           prerequisiteTestId: null,
           createdAt: new Date(),
           updatedAt: new Date(),
         },
       ] as any[];

       const result = buildTestChains(tests);
       expect(result[0]).toHaveProperty('root');
       expect(result[0].root).toHaveProperty('id');
     });
   });
   ```

2. **`src/utils/testAppearance.test.ts`** (6 —Ç–µ—Å—Ç–æ–≤)
   ```typescript
   import { describe, it, expect } from 'vitest';
   import { hexToRgba, mergeAppearance } from './testAppearance';

   describe('hexToRgba', () => {
     it('should convert hex color to rgba with alpha', () => {
       const result = hexToRgba('#7c3aed', 0.5);
       expect(result).toBe('rgba(124, 58, 237, 0.5)');
     });

     it('should handle shorthand hex colors', () => {
       const result = hexToRgba('#fff', 0.8);
       expect(result).toBe('rgba(255, 255, 255, 0.8)');
     });

     it('should handle colors without hash', () => {
       const result = hexToRgba('ff0000', 0.5);
       expect(result).toBe('rgba(255, 0, 0, 0.5)');
     });
   });

   describe('mergeAppearance', () => {
     it('should merge with default appearance when no custom provided', () => {
       const result = mergeAppearance();
       expect(result).toHaveProperty('introIcon');
       expect(result).toHaveProperty('backgroundGradientFrom');
     });

     it('should override defaults with custom values', () => {
       const custom = { introIcon: 'üöÄ' };
       const result = mergeAppearance(custom);
       expect(result.introIcon).toBe('üöÄ');
     });

     it('should preserve default values when not overridden', () => {
       const custom = { introIcon: 'üé®' };
       const result = mergeAppearance(custom);
       expect(result.introIcon).toBe('üé®');
       expect(result.backgroundGradientFrom).toBeTruthy();
     });
   });
   ```

**–î–æ–±–∞–≤–ª–µ–Ω—ã npm —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json:**
```json
{
  "scripts": {
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage"
  }
}
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤:** ‚úÖ –í—Å–µ 9 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- testChainHelpers: 3/3 ‚úÖ
- testAppearance: 6/6 ‚úÖ

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ Vitest –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å jsdom
- ‚úÖ Testing Library –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Setup —Ñ–∞–π–ª –¥–ª—è jest-dom matchers
- ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (component tests)

**–ó–∞–ø—É—Å–∫:**
```bash
npm test              # watch mode
npm run test:ui       # UI mode
npm run test:coverage # —Å coverage
```

**Commit:** `6eba2b5` - Unit tests infrastructure with 9 passing tests

---

### –ó–∞–¥–∞—á–∞ 3.4: Barrel exports ‚úÖ

**–¶–µ–ª—å:** –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏ —É–ª—É—á—à–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∫–æ–¥–∞.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-09)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω—ã barrel export —Ñ–∞–π–ª—ã:**

1. **`src/components/ui/index.js`** (5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
   ```javascript
   export { default as Button } from './Button';
   export { default as Card } from './Card';
   export { default as LoadingSpinner } from './LoadingSpinner';
   export { default as Modal } from './Modal';
   export { default as Toast } from './Toast';
   ```

2. **`src/components/tests/index.ts`** (4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
   ```typescript
   export { TestCard } from './TestCard';
   export { TestHistory } from './TestHistory';
   export { QuestionPreview } from './QuestionPreview';
   export { TestProgressBar } from './TestProgressBar';
   ```

3. **`src/hooks/index.ts`** (12 —Ö—É–∫–æ–≤)
   ```typescript
   export { useAuth } from './useAuth';
   export { useNotes } from './useNotes';
   export { useTopics } from './useTopics';
   export { useTests } from './useTests';
   export { useTestResults } from './useTestResults';
   export { useFirestoreDoc } from './useFirestoreDoc';
   export { useFirestoreCollection } from './useFirestoreCollection';
   export { useDebounce } from './useDebounce';
   export { useLocalStorage } from './useLocalStorage';
   export { useMediaQuery } from './useMediaQuery';
   export { useClickOutside } from './useClickOutside';
   export { useKeyPress } from './useKeyPress';
   ```

4. **`src/stores/index.ts`** (2 store)
   ```typescript
   export { useAuthStore } from './useAuthStore';
   export { useTestStore } from './useTestStore';
   ```

5. **`src/utils/index.ts`** (10 –º–æ–¥—É–ª–µ–π)
   ```typescript
   export * from './testChainHelpers';
   export * from './testAppearance';
   export * from './testImportExport';
   export * from './formatDate';
   export * from './validators';
   export * from './theme';
   export * from './color';
   export * from './mediaUpload';
   export * from './csv';
   export * from './debounce';
   ```

6. **`src/lib/index.ts`** (8 –º–æ–¥—É–ª–µ–π)
   ```typescript
   export { db, storage, auth } from './firebase';
   export * from './firestore';
   export * from './analytics';
   export * from './errorTracking';
   export * from './logger';
   export * from './cache';
   export * from './apiClient';
   export * from './validators';
   ```

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

**–î–æ:**
```typescript
import { TestCard } from '../../components/tests/TestCard';
import { TestHistory } from '../../components/tests/TestHistory';
import { useAuth } from '../../hooks/useAuth';
import { useNotes } from '../../hooks/useNotes';
```

**–ü–æ—Å–ª–µ:**
```typescript
import { TestCard, TestHistory } from '../../components/tests';
import { useAuth, useNotes } from '../../hooks';
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–°–æ–∑–¥–∞–Ω–æ:** 6 barrel export —Ñ–∞–π–ª–æ–≤
**–û—Ö–≤–∞—Ç:**
- UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 5
- Test –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 4
- Hooks: 12
- Stores: 2
- Utils: 10 –º–æ–¥—É–ª–µ–π
- Lib: 8 –º–æ–¥—É–ª–µ–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- ‚úÖ –õ—É—á—à–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ –ü—Ä–æ—â–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø—É—Ç–∏
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞

**Commit:** `be90a2d` - Barrel exports for components, hooks, stores, utils, lib

---

### –ó–∞–¥–∞—á–∞ 3.5: Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚úÖ

**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å infinite loops –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (2025-11-09)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: Infinite loops**

–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö `useAuth()`.

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Warning: The result of getSnapshot should be cached to avoid an infinite loop
Maximum update depth exceeded. This can happen when a component repeatedly
calls setState inside componentWillUpdate or componentDidUpdate.
```

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- UserMenu.tsx (line 26)
- RequireAuth.tsx
- RequireAdmin.tsx
- –ò 17+ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö useAuth()

**–†–µ—à–µ–Ω–∏–µ (–∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ):**

1. **–ü–æ–ø—ã—Ç–∫–∞ 1 - Shallow equality** (commit `2c5217a`)
   ```typescript
   import { shallow } from 'zustand/shallow';
   export function useAuth() {
     return useAuthStore((state) => ({ /* ... */ }), shallow);
   }
   ```
   ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ - error persisted

2. **–ü–æ–ø—ã—Ç–∫–∞ 2 - Direct selectors –≤ UserMenu** (commit `836c1d8`)
   ```typescript
   // UserMenu.tsx
   const isAdmin = useAuthStore((state) => state.isAdmin);
   const isSuperAdmin = useAuthStore((state) => state.isSuperAdmin);
   ```
   ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–º–æ–≥–ª–æ - error moved to RequireAuth

3. **–ü–æ–ø—ã—Ç–∫–∞ 3 - Final comprehensive fix** (commit `66eeaba`)

   **–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ useAuth():**
   ```typescript
   export function useAuth() {
     // Individual atomic selectors
     const user = useAuthStore((state) => state.user);
     const loading = useAuthStore((state) => state.loading);
     const userRole = useAuthStore((state) => state.userRole);
     const isStudent = useAuthStore((state) => state.isStudent);
     const isAdmin = useAuthStore((state) => state.isAdmin);
     const isSuperAdmin = useAuthStore((state) => state.isSuperAdmin);
     const signInWithGoogle = useAuthStore((state) => state.signInWithGoogle);
     const logout = useAuthStore((state) => state.logout);

     // Memoize object to prevent new reference on every render
     return useMemo(
       () => ({
         user, loading, userRole, isStudent, isAdmin, isSuperAdmin,
         signInWithGoogle, logout,
       }),
       [user, loading, userRole, isStudent, isAdmin, isSuperAdmin,
        signInWithGoogle, logout]
     );
   }
   ```

   **Updated critical components:**
   - RequireAuth.tsx - direct selectors
   - RequireAdmin.tsx - direct selectors
   - UserMenu.tsx - already using direct selectors

   ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É!**

#### –î—Ä—É–≥–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**useMemo –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:**
```typescript
const filteredTests = useMemo(() => {
  if (rubricFilter === 'full-course') {
    return tests.filter(t => t.rubric === 'full-course');
  } else {
    return tests.filter(t => t.rubric !== 'full-course');
  }
}, [tests, rubricFilter]);
```

**Atomic selectors pattern:**
```typescript
// –í–º–µ—Å—Ç–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
const { user, loading } = useAuth(); // ‚ùå re-renders –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—á–µ—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
const user = useAuthStore((state) => state.user); // ‚úÖ re-render —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–±–ª–µ–º—ã –¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- ‚ùå Infinite loops –≤ 3+ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚ùå Unnecessary re-renders –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ auth state
- ‚ùå Browser warnings –∏ –ø–ª–æ—Ö–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ Zero infinite loops
- ‚úÖ Minimal re-renders (atomic selectors)
- ‚úÖ useMemo –¥–ª—è backwards compatibility
- ‚úÖ 17+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ Clean browser console

**Commits:**
- `2c5217a` - Shallow equality attempt
- `836c1d8` - UserMenu direct selectors
- `66eeaba` - **Final fix**: Complete useAuth refactor with useMemo

---

### –ò—Ç–æ–≥–∏ –§–∞–∑—ã 3 ‚úÖ

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-11-09

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:**

1. ‚úÖ **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Tests/AgeTests** (-430 —Å—Ç—Ä–æ–∫)
   - Tests.tsx + AgeTests.tsx ‚Üí TestsPage.tsx
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å rubricFilter prop

2. ‚úÖ **Zustand State Management**
   - –°–æ–∑–¥–∞–Ω–æ 2 store: useAuthStore, useTestStore
   - Redux DevTools integration
   - –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã infinite loops —á–µ—Ä–µ–∑ useMemo pattern
   - 17+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ

3. ‚úÖ **Unit —Ç–µ—Å—Ç—ã**
   - Vitest + Testing Library infrastructure
   - 9 passing tests (testChainHelpers: 3, testAppearance: 6)
   - Setup –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

4. ‚úÖ **Barrel exports**
   - 6 index —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
   - 41 —ç–∫—Å–ø–æ—Ä—Ç (components, hooks, stores, utils, lib)
   - Cleaner imports across codebase

5. ‚úÖ **Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
   - Fixed critical infinite loops (3 iterations)
   - Atomic selectors pattern
   - useMemo –¥–ª—è backwards compatibility
   - Zero browser console errors

**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**

**–§–∞–π–ª—ã:**
- **–°–æ–∑–¥–∞–Ω–æ:** 16 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (stores, tests, barrel exports, config)
- **–£–¥–∞–ª–µ–Ω–æ:** 2 —Ñ–∞–π–ª–∞ (Tests.tsx, AgeTests.tsx)
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (App.jsx, AuthProvider, UserMenu, RequireAuth, RequireAdmin)

**–ö–æ–¥:**
- –≠–∫–æ–Ω–æ–º–∏—è: ~430 —Å—Ç—Ä–æ–∫ (—Å–ª–∏—è–Ω–∏–µ Tests/AgeTests)
- TestsPage.tsx: 365 —Å—Ç—Ä–æ–∫ (–≤–º–µ—Å—Ç–æ 796)
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 9 unit tests ‚úÖ
- Zero infinite loops ‚úÖ
- Clean console ‚úÖ

**–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π state (Zustand)
- ‚úÖ DevTools debugging
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ Barrel exports —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (atomic selectors)
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**Git commits:** 7 –∫–æ–º–º–∏—Ç–æ–≤
1. `51a7ee6` - Tests/AgeTests merge
2. `d370a06` - Zustand migration
3. `be90a2d` - Barrel exports
4. `2c5217a` - Shallow equality (partial fix)
5. `836c1d8` - UserMenu direct selectors
6. `66eeaba` - Complete useAuth refactor (FINAL FIX)
7. `6eba2b5` - Unit tests infrastructure

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1 –¥–µ–Ω—å (–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –ø–ª–∞–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ñ–æ–∫—É—Å—É)

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß–µ–∫–ª–∏—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ô —Ñ–∞–∑—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

#### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [ ] –í—Å–µ –ø–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä—É–±—Ä–∏–∫–∞) —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í–æ–ø—Ä–æ—Å—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] –ú–µ–¥–∏–∞-—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- [ ] –ò–º–ø–æ—Ä—Ç JSON —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –≠–∫—Å–ø–æ—Ä—Ç JSON —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–µ—Å—Ç
- [ ] –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å
- [ ] –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
- [ ] –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–µ–Ω—è–µ—Ç—Å—è

#### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ /tests –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç—ã full-course
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ /tests/age-periods –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- [ ] –¶–µ–ø–æ—á–∫–∏ —Ç–µ—Å—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–º–æ–∫
- [ ] –¶–≤–µ—Ç–∞ –∏ —Ç–µ–º—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- [ ] –ó–∞–≥–ª—É—à–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

#### –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- [ ] –í–æ–ø—Ä–æ—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –º–µ–¥–∏–∞
- [ ] –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- [ ] –ü–æ–ª–∏—Ç–∏–∫–∏ –ø–æ–∫–∞–∑–∞ –æ—Ç–≤–µ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≤–æ–ø—Ä–æ—Å–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Firestore
- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

#### –°–∏—Å—Ç–µ–º–∞ —Ü–µ–ø–æ—á–µ–∫
- [ ] Prerequisite —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- [ ] –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
- [ ] –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è" –≤–µ–¥—ë—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–µ—Ä–∏–æ–¥–∞–º–∏
- [ ] –¢–µ—Å—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–∞–±–æ—á–∞—è —Ç–µ—Ç—Ä–∞–¥—å –∏ —Ç–µ—Å—Ç—ã"
- [ ] –ò–∫–æ–Ω–∫–∏ —Ç–µ—Å—Ç–æ–≤ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã
- [ ] –í–µ–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –æ—Ç –ê –¥–æ –Ø**
   - –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç —Å 10 –≤–æ–ø—Ä–æ—Å–∞–º–∏
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏–∞ –∫ 3 –≤–æ–ø—Ä–æ—Å–∞–º
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
   - –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
   - –ü—Ä–æ–π—Ç–∏ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

2. **–¶–µ–ø–æ—á–∫–∞ –∏–∑ 3 —É—Ä–æ–≤–Ω–µ–π**
   - –°–æ–∑–¥–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π —Ç–µ—Å—Ç
   - –°–æ–∑–¥–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å 2 (prerequisite = –∫–æ—Ä–Ω–µ–≤–æ–π, 70%)
   - –°–æ–∑–¥–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å 3 (prerequisite = —É—Ä–æ–≤–µ–Ω—å 2, 80%)
   - –ü—Ä–æ–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤–æ–π —Å 65% ‚Üí —É—Ä–æ–≤–µ–Ω—å 2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
   - –ü—Ä–æ–π—Ç–∏ –∫–æ—Ä–Ω–µ–≤–æ–π —Å 75% ‚Üí —É—Ä–æ–≤–µ–Ω—å 2 —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
   - –ü—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å 2 —Å 85% ‚Üí —É—Ä–æ–≤–µ–Ω—å 3 —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

3. **–ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç**
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç –≤ JSON
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç —ç—Ç–æ–≥–æ JSON
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞
npm run build
ls -lh dist/assets/*.js

# Lighthouse audit
npm run preview
# –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Lighthouse ‚Üí Run
```

**–¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- FCP (First Contentful Paint): < 1.5s
- LCP (Largest Contentful Paint): < 2.5s
- TBT (Total Blocking Time): < 300ms
- Bundle JS: < 300KB gzipped

---

## –ß–µ–∫–ª–∏—Å—Ç—ã

### Checklist –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

- [ ] –°–æ–∑–¥–∞–Ω feature branch `refactor/tests-system`
- [ ] –°–æ–∑–¥–∞–Ω—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤ `docs/backups/`
- [ ] –°–æ–∑–¥–∞–Ω git tag `refactor-tests-backup`
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `TESTS_SYSTEM_GUIDE.md` –∞–∫—Ç—É–∞–ª—å–Ω–∞
- [ ] –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] –ü–æ–Ω—è—Ç–Ω—ã –≤—Å–µ —ç—Ç–∞–ø—ã
- [ ] –ö–æ–º–∞–Ω–¥–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∞ –æ –Ω–∞—á–∞–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### Checklist –ø–æ—Å–ª–µ –§–∞–∑—ã 1

- [x] –£–¥–∞–ª–µ–Ω—ã AuthorsTest*.tsx —Ñ–∞–π–ª—ã (—Å—Å—ã–ª–∫–∏ –∏–∑ App.jsx)
- [x] –£–¥–∞–ª–µ–Ω—ã —Ä–æ—É—Ç—ã –∏–∑ App.jsx
- [x] –°–æ–∑–¥–∞–Ω testChainHelpers.ts
- [x] Tests.tsx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç testChainHelpers
- [x] AgeTests.tsx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç testChainHelpers
- [x] –°–æ–∑–¥–∞–Ω TestCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [x] Tests.tsx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TestCard
- [x] AgeTests.tsx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TestCard
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Git commits —Å–æ–∑–¥–∞–Ω—ã (–≤—Ä—É—á–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
- [ ] –ö–æ–¥ review (–µ—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ)

### Checklist –ø–æ—Å–ª–µ –§–∞–∑—ã 2

**–ó–∞–¥–∞—á–∞ 2.1 (TestEditorForm):**
- [x] TestEditorForm —Ä–∞–∑–±–∏—Ç –Ω–∞ 7 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Field, EmojiPicker, TestBasicMetadata, TestPrerequisiteConfig, TestActionButtons, TestQuestionsManager, TestAppearanceEditor)
- [x] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã < 300 —Å—Ç—Ä–æ–∫
- [x] Props –∏ callbacks —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [x] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Git commits —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–¥ review (–µ—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ)

**–ó–∞–¥–∞—á–∞ 2.2 (QuestionEditor):**
- [ ] QuestionEditor —Ä–∞–∑–±–∏—Ç –Ω–∞ 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã < 300 —Å—Ç—Ä–æ–∫
- [ ] Props –∏ callbacks —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Git commits —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–¥ review (–µ—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ)

**–ó–∞–¥–∞—á–∞ 2.3 (DynamicTest):**
- [ ] DynamicTest —Ä–∞–∑–±–∏—Ç –Ω–∞ 3 —ç–∫—Ä–∞–Ω–∞ + 3 hooks
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã < 300 —Å—Ç—Ä–æ–∫
- [ ] Props –∏ callbacks —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Git commits —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–¥ review (–µ—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ)

### Checklist –ø–æ—Å–ª–µ –§–∞–∑—ã 3

- [ ] Tests.tsx –∏ AgeTests.tsx –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ TestsPage.tsx
- [ ] State management –≤–Ω–µ–¥—Ä—ë–Ω
- [ ] Unit —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ò–º–ø–æ—Ä—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] Lighthouse audit –ø—Ä–æ–π–¥–µ–Ω (>90)
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑ —á–µ–∫–ª–∏—Å—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Bundle size –ø—Ä–æ–≤–µ—Ä–µ–Ω
- [ ] Git commits —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–¥ review (–µ—Å–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ)

### Checklist –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º –≤ main

- [ ] –í—Å–µ —á–µ–∫–ª–∏—Å—Ç—ã –≤—ã—à–µ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] TESTS_SYSTEM_GUIDE.md –æ—Ç—Ä–∞–∂–∞–µ—Ç –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- [ ] TESTS_REFACTORING_PLAN.md –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π
- [ ] Changelog –æ–±–Ω–æ–≤–ª—ë–Ω
- [ ] PR —Å–æ–∑–¥–∞–Ω —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] CI/CD –ø—Ä–æ–π–¥–µ–Ω
- [ ] –ö–æ–¥ review –æ–¥–æ–±—Ä–µ–Ω
- [ ] QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] Staging deploy —É—Å–ø–µ—à–µ–Ω
- [ ] Production deploy –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω

---

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ:

### –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ commit

```bash
git reset --hard HEAD~1
```

### –û—Ç–∫–∞—Ç –∫ —Ç–µ–≥—É backup

```bash
git reset --hard refactor-tests-backup
```

### –û—Ç–∫–∞—Ç –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É commit

```bash
git log --oneline
git reset --hard <commit-hash>
```

### –û—Ç–∫–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
# –ò–∑ HEAD
git checkout HEAD -- src/pages/Tests.tsx

# –ò–∑ backup —Ç–µ–≥–∞
git checkout refactor-tests-backup -- src/pages/Tests.tsx

# –ò–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
cp docs/backups/tests-system-20251107/Tests.tsx src/pages/Tests.tsx
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–æ–≤. 

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. –ú–∞–ª—ã–µ —à–∞–≥–∏ —Å —á–∞—Å—Ç—ã–º–∏ –∫–æ–º–º–∏—Ç–∞–º–∏
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ 30-40%
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ–ø—ã—Ç –¥–ª—è –∞—É–¥–∏—Ç–∞ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –¥—Ä—É–≥–∏–º –º–æ–¥—É–ª—è–º
- –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–£–¥–∞—á–∏ –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ! üöÄ**

